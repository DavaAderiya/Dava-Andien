<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dava & Andiena - Our Love Story</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap">
    <style>
        :root {
            --primary-color: #ff6b8b;
            --secondary-color: #ffc1cc;
            --light-pink: #fff5f7;
            --dark-bg: #0f3460;
            --text-color: #333;
            --white: #ffffff;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%);
            color: var(--text-color);
            min-height: 100vh;
            overflow-x: hidden;
            font-size: 0.95rem;
        }
        
        /* Tampilan Login */
        .login-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-color) 0%, #ff99ac 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.8s ease;
        }
        
        .login-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 0.8rem 1.8rem rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 360px;
            width: 90%;
            animation: fadeInScale 0.5s ease;
        }
        
        @keyframes fadeInScale {
            0% { opacity: 0; transform: scale(0.9); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        .login-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2.3rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        
        .login-subtitle {
            color: #777;
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }
        
        .password-container {
            position: relative;
            margin-bottom: 1.2rem;
        }
        
        .password-input {
            width: 100%;
            padding: 0.75rem 2.8rem 0.75rem 1rem;
            border: 2px solid var(--secondary-color);
            border-radius: 3rem;
            font-size: 0.95rem;
            outline: none;
            transition: var(--transition);
        }
        
        .password-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(255, 107, 139, 0.2);
        }
        
        .heart-btn {
            position: absolute;
            right: 0.3rem;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: 50%;
            width: 2rem;
            height: 2rem;
            cursor: pointer;
            font-size: 0.95rem;
            transition: var(--transition);
        }
        
        .heart-btn:hover {
            background: #ff4d73;
            transform: translateY(-50%) scale(1.1);
        }
        
        .error-message {
            color: #ff4d73;
            margin-top: 0.5rem;
            font-size: 0.85rem;
            min-height: 1rem;
        }
        
        /* Animasi Judul */
        .title-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 999;
            overflow: hidden;
        }
        
        .title-text-container {
            position: relative;
            width: 90%;
            max-width: 800px;
            text-align: center;
        }
        
        .title-word {
            font-family: 'Dancing Script', cursive;
            font-size: 3.6rem;
            color: var(--white);
            opacity: 0;
            transform: translateX(-150px);
            display: inline-block;
            margin-right: 1.2rem;
            text-shadow: 0.15rem 0.15rem 0.4rem rgba(0, 0, 0, 0.5);
            font-weight: bold;
            position: relative;
            animation-duration: 0.8s;
            animation-fill-mode: forwards;
            animation-timing-function: ease;
        }
        
        .animate-in {
            animation-name: slideInFromLeft;
        }
        
        .animate-out {
            animation-name: slideOutToRight;
        }
        
        @keyframes slideInFromLeft {
            0% {
                opacity: 0;
                transform: translateX(-150px);
            }
            70% {
                opacity: 1;
                transform: translateX(20px);
            }
            100% {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideOutToRight {
            0% {
                opacity: 1;
                transform: translateX(0);
            }
            100% {
                opacity: 0;
                transform: translateX(150px);
            }
        }
        
        .subtitle-text {
            font-family: 'Poppins', sans-serif;
            font-size: 1.3rem;
            color: var(--white);
            margin-top: 2.3rem;
            opacity: 0;
            text-align: center;
            max-width: 800px;
            padding: 0 1.2rem;
            line-height: 1.5;
            text-shadow: 0.08rem 0.08rem 0.25rem rgba(0, 0, 0, 0.3);
            font-weight: 300;
            animation: fadeInUp 0.8s ease 1.8s forwards;
        }
        
        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(25px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .heart-animation {
            position: absolute;
            color: rgba(255, 184, 198, 0.8);
            font-size: 2rem;
            opacity: 0;
            animation: floatHeart 3s ease infinite;
            z-index: 1;
        }
        
        @keyframes floatHeart {
            0% {
                opacity: 0;
                transform: translateY(0) rotate(0deg) scale(0.5);
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateY(-150px) rotate(360deg) scale(1);
            }
        }
        
        /* Konten Utama */
        .main-content {
            display: none;
            opacity: 0;
            animation: fadeInContent 0.8s ease forwards;
        }
        
        @keyframes fadeInContent {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
        
        /* Header */
        header {
            background: linear-gradient(to right, var(--primary-color), #ff99ac);
            color: var(--white);
            padding: 2.3rem 1.2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2.6rem;
            margin-bottom: 0.9rem;
            text-shadow: 0.08rem 0.08rem 0.4rem rgba(0, 0, 0, 0.2);
        }
        
        .header-subtitle {
            font-size: 1.1rem;
            font-weight: 300;
            max-width: 650px;
            margin: 0 auto;
        }
        
        .floating-hearts {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .heart {
            position: absolute;
            color: rgba(255, 255, 255, 0.3);
            font-size: 1.1rem;
            animation: float 8s infinite linear;
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* Navigasi Desktop */
        .nav-container {
            background: var(--white);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-list {
            display: flex;
            justify-content: center;
            list-style: none;
            padding: 0.8rem;
            flex-wrap: wrap;
        }
        
        .nav-item {
            margin: 0 0.8rem;
        }
        
        .nav-link {
            text-decoration: none;
            color: var(--primary-color);
            font-weight: 500;
            padding: 0.7rem 1.3rem;
            border-radius: 2rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            font-size: 0.95rem;
        }
        
        .nav-link i {
            margin-right: 0.7rem;
            font-size: 1rem;
        }
        
        .nav-link:hover, .nav-link.active {
            background: var(--primary-color);
            color: var(--white);
            transform: translateY(-0.15rem);
            box-shadow: 0 0.3rem 0.9rem rgba(255, 107, 139, 0.3);
        }
        
        /* Hamburger Menu untuk Mobile */
        .hamburger-menu {
            display: none;
            position: fixed;
            top: 0.8rem;
            right: 0.8rem;
            z-index: 101;
            background: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: 50%;
            width: 3rem;
            height: 3rem;
            font-size: 1.3rem;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .hamburger-menu:hover {
            transform: scale(1.05);
        }
        
        /* Sidebar untuk Mobile */
        .sidebar {
            position: fixed;
            top: 0;
            right: -280px;
            width: 250px;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 102;
            transition: var(--transition);
            padding-top: 3rem;
            overflow-y: auto;
        }
        
        .sidebar.open {
            right: 0;
        }
        
        .sidebar-header {
            padding: 1.2rem;
            text-align: center;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            margin-bottom: 0.8rem;
        }
        
        .sidebar-title {
            font-family: 'Dancing Script', cursive;
            font-size: 1.7rem;
            color: var(--primary-color);
        }
        
        .sidebar-list {
            list-style: none;
        }
        
        .sidebar-item {
            margin-bottom: 0.4rem;
        }
        
        .sidebar-link {
            display: flex;
            align-items: center;
            padding: 0.9rem 1.2rem;
            color: var(--text-color);
            text-decoration: none;
            transition: var(--transition);
            font-size: 1rem;
            border-radius: 0.5rem;
            margin: 0 0.8rem;
        }
        
        .sidebar-link i {
            margin-right: 0.9rem;
            color: var(--primary-color);
            width: 1.3rem;
            text-align: center;
            font-size: 1.1rem;
        }
        
        .sidebar-link:hover, .sidebar-link.active {
            background: rgba(255, 107, 139, 0.1);
            color: var(--primary-color);
            padding-left: 1.5rem;
            transform: translateX(5px);
        }
        
        .sidebar-close {
            position: absolute;
            top: 0.8rem;
            right: 0.8rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #777;
            cursor: pointer;
            transition: var(--transition);
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .sidebar-close:hover {
            background: rgba(0, 0, 0, 0.05);
            color: var(--primary-color);
        }
        
        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            z-index: 101;
            backdrop-filter: blur(2px);
        }
        
        .sidebar-overlay.active {
            display: block;
        }
        
        /* Section Umum */
        .section {
            padding: 4rem 1.2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2.4rem;
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -1rem;
            left: 50%;
            transform: translateX(-50%);
            width: 5rem;
            height: 0.25rem;
            background: var(--secondary-color);
            border-radius: 0.15rem;
        }
        
        /* Galeri Foto */
        .gallery-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.7rem;
            margin-top: 2.5rem;
        }
        
        .photo-item {
            border-radius: 1.3rem;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            height: 220px;
            cursor: pointer;
            animation: fadeInUpItem 0.8s ease both;
        }
        
        .photo-item:nth-child(1) { animation-delay: 0.1s; }
        .photo-item:nth-child(2) { animation-delay: 0.2s; }
        .photo-item:nth-child(3) { animation-delay: 0.3s; }
        .photo-item:nth-child(4) { animation-delay: 0.4s; }
        .photo-item:nth-child(5) { animation-delay: 0.5s; }
        .photo-item:nth-child(6) { animation-delay: 0.6s; }
        
        @keyframes fadeInUpItem {
            0% {
                opacity: 0;
                transform: translateY(15px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .photo-item:hover {
            transform: translateY(-0.8rem) scale(1.02);
            box-shadow: 0 1.2rem 2.5rem rgba(0, 0, 0, 0.12);
        }
        
        .photo-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s;
        }
        
        .photo-item:hover .photo-img {
            transform: scale(1.08);
        }
        
        .photo-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.85), transparent);
            color: var(--white);
            padding: 1.2rem;
            transform: translateY(100%);
            transition: transform 0.5s;
        }
        
        .photo-item:hover .photo-caption {
            transform: translateY(0);
        }
        
        .photo-caption h3 {
            font-size: 1.1rem;
            margin-bottom: 0.4rem;
        }
        
        .photo-description {
            font-size: 0.85rem;
            color: var(--secondary-color);
            line-height: 1.3;
        }
        
        /* Video Section */
        .video-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2.5rem;
        }
        
        .video-item {
            border-radius: 1.3rem;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            animation: fadeInUpItem 0.8s ease both;
            cursor: pointer;
        }
        
        .video-item:hover {
            transform: scale(1.03);
            box-shadow: 0 1.2rem 2.5rem rgba(0, 0, 0, 0.12);
        }
        
        .video-player-container {
            position: relative;
            width: 100%;
            height: 180px;
            overflow: hidden;
            background: #000;
        }
        
        .video-player {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border: none;
            background: #000;
        }
        
        .video-thumbnail {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .video-play-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            transition: var(--transition);
        }
        
        .video-item:hover .video-play-overlay {
            background: rgba(0, 0, 0, 0.3);
        }
        
        .video-play-btn {
            background: rgba(255, 107, 139, 0.9);
            color: white;
            width: 4.5rem;
            height: 4.5rem;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.8rem;
            cursor: pointer;
            transition: var(--transition);
            border: 3px solid white;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.3);
        }
        
        .video-play-btn:hover {
            background: var(--primary-color);
            transform: scale(1.1);
        }
        
        .video-caption {
            padding: 1.2rem;
            background: var(--white);
        }
        
        .video-caption h3 {
            margin-bottom: 0.4rem;
            color: var(--text-color);
            font-size: 1.1rem;
        }
        
        .video-description {
            color: #666;
            font-size: 0.85rem;
            line-height: 1.4;
        }
        
        /* Modal Video Player */
        .video-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 1.5rem;
            animation: fadeIn 0.3s ease;
        }
        
        .video-modal-content {
            max-width: 1000px;
            width: 100%;
            max-height: 80vh;
            background: rgba(20, 20, 20, 0.9);
            border-radius: 1.5rem;
            overflow: hidden;
            position: relative;
            animation: modalAppear 0.4s ease;
            box-shadow: 0 2rem 5rem rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .video-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2rem;
            background: rgba(0, 0, 0, 0.7);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .video-modal-title {
            color: white;
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .video-modal-close {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            width: 3.5rem;
            height: 3.5rem;
            border-radius: 50%;
            font-size: 1.8rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: var(--transition);
        }
        
        .video-modal-close:hover {
            background: var(--primary-color);
            transform: rotate(90deg);
        }
        
        .video-modal-player {
            width: 100%;
            height: calc(80vh - 120px);
            min-height: 400px;
            background: #000;
        }
        
        .video-modal-player iframe,
        .video-modal-player video {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .video-modal-description {
            padding: 1.5rem 2rem;
            background: rgba(0, 0, 0, 0.7);
            color: #ddd;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        /* Section Kenangan dengan Foto */
        .memory-container {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            justify-content: center;
            margin-top: 2.5rem;
        }
        
        .memory-card {
            background: var(--white);
            border-radius: 1.3rem;
            padding: 2rem;
            box-shadow: var(--shadow);
            flex: 1;
            min-width: 280px;
            max-width: 450px;
            position: relative;
            overflow: hidden;
            border-top: 0.4rem solid var(--primary-color);
            display: flex;
            flex-direction: column;
            transition: var(--transition);
            animation: fadeInUpItem 0.8s ease both;
        }
        
        .memory-card:hover {
            transform: translateY(-0.8rem);
            box-shadow: 0 1.2rem 2.5rem rgba(0, 0, 0, 0.1);
        }
        
        .memory-photo-container {
            width: 100%;
            height: 170px;
            margin-bottom: 1.5rem;
            border-radius: 0.8rem;
            overflow: hidden;
        }
        
        .memory-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .memory-card:hover .memory-photo {
            transform: scale(1.05);
        }
        
        .memory-icon {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 1.2rem;
        }
        
        .memory-card h3 {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: var(--text-color);
        }
        
        .memory-text {
            line-height: 1.5;
            color: #555;
            flex-grow: 1;
            font-size: 0.95rem;
        }
        
        /* Album Cinta - Sistem Tab */
        .album-tabs-container {
            margin-top: 3rem;
            background: var(--white);
            border-radius: 1.3rem;
            box-shadow: var(--shadow);
            overflow: hidden;
        }
        
        .album-tabs {
            display: flex;
            background: #f9f9f9;
            border-bottom: 2px solid #eee;
            flex-wrap: wrap;
        }
        
        .album-tab {
            flex: 1;
            min-width: 150px;
            padding: 1.2rem;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            color: #666;
            transition: var(--transition);
            border-bottom: 3px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.7rem;
            font-size: 0.95rem;
        }
        
        .album-tab i {
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        
        .album-tab.active {
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
            background: var(--white);
        }
        
        .album-tab-content {
            display: none;
            padding: 2.5rem;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .album-tab-content.active {
            display: block;
        }
        
        .album-manage-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .album-title {
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            color: var(--primary-color);
        }
        
        .manage-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .action-btn {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            padding: 0.7rem 1.2rem;
            border-radius: 2rem;
            font-weight: 500;
            transition: var(--transition);
            cursor: pointer;
            font-size: 0.9rem;
            border: none;
        }
        
        .action-btn.primary {
            background: var(--primary-color);
            color: var(--white);
            box-shadow: 0 0.3rem 0.8rem rgba(255, 107, 139, 0.3);
        }
        
        .action-btn.primary:hover {
            background: #ff4d73;
            transform: translateY(-0.2rem);
            box-shadow: 0 0.5rem 1.2rem rgba(255, 107, 139, 0.4);
        }
        
        .action-btn.secondary {
            background: #f5f5f5;
            color: #555;
            border: 1px solid #ddd;
        }
        
        .action-btn.secondary:hover {
            background: #e0e0e0;
        }
        
        /* Notifikasi - DIUBAH: Notifikasi di dalam modal form */
        .form-notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: #ff4d73;
            color: var(--white);
            padding: 1rem 1.5rem;
            border-radius: 0.8rem;
            box-shadow: 0 0.8rem 1.8rem rgba(0, 0, 0, 0.2);
            z-index: 2000;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            transition: transform 0.5s ease;
            max-width: 400px;
            width: 90%;
            text-align: center;
        }
        
        .form-notification.show {
            transform: translateX(-50%) translateY(0);
        }
        
        .form-notification-icon {
            font-size: 1.5rem;
        }
        
        /* Editor Modal */
        .editor-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 1.2rem;
            animation: fadeIn 0.3s ease;
        }
        
        .editor-content {
            background: var(--white);
            padding: 2.5rem;
            border-radius: 1.3rem;
            max-width: 750px;
            width: 100%;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
            animation: modalAppear 0.4s ease;
            box-shadow: 0 1.5rem 3rem rgba(0, 0, 0, 0.3);
        }
        
        @keyframes modalAppear {
            0% {
                opacity: 0;
                transform: translateY(-40px) scale(0.95);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .editor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .editor-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            color: var(--primary-color);
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 2rem;
            color: #777;
            cursor: pointer;
            transition: var(--transition);
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .close-btn:hover {
            background: #f5f5f5;
            color: var(--primary-color);
        }
        
        .editor-tabs {
            display: flex;
            margin-bottom: 2rem;
            border-bottom: 0.25rem solid #eee;
            flex-wrap: wrap;
        }
        
        .editor-tab {
            padding: 1rem 1.7rem;
            cursor: pointer;
            font-weight: 600;
            color: #777;
            transition: var(--transition);
            border-bottom: 0.25rem solid transparent;
            margin-bottom: -0.25rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-size: 1rem;
        }
        
        .editor-tab i {
            font-size: 1.2rem;
        }
        
        .editor-tab.active {
            color: var(--primary-color);
            border-bottom: 0.25rem solid var(--primary-color);
        }
        
        .editor-form {
            display: flex;
            flex-direction: column;
            gap: 1.7rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-label {
            margin-bottom: 0.6rem;
            font-weight: 600;
            color: #555;
            display: flex;
            align-items: center;
            gap: 0.7rem;
            font-size: 1rem;
        }
        
        .form-label i {
            color: var(--primary-color);
        }
        
        .form-input {
            padding: 1rem;
            border: 2px solid #ddd;
            border-radius: 0.8rem;
            font-family: 'Poppins', sans-serif;
            font-size: 0.95rem;
            transition: var(--transition);
        }
        
        .form-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(255, 107, 139, 0.2);
            outline: none;
        }
        
        .form-textarea {
            padding: 1rem;
            border: 2px solid #ddd;
            border-radius: 0.8rem;
            font-family: 'Poppins', sans-serif;
            min-height: 120px;
            resize: vertical;
            font-size: 0.95rem;
            transition: var(--transition);
        }
        
        .form-textarea:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(255, 107, 139, 0.2);
            outline: none;
        }
        
        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 1.2rem;
            margin-top: 2.5rem;
            padding-top: 1.7rem;
            border-top: 2px solid #eee;
        }
        
        .form-btn {
            padding: 1rem 2rem;
            border-radius: 0.8rem;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        
        .form-btn.primary {
            background: var(--primary-color);
            color: var(--white);
            box-shadow: 0 0.4rem 1rem rgba(255, 107, 139, 0.3);
        }
        
        .form-btn.primary:hover {
            background: #ff4d73;
            transform: translateY(-0.2rem);
            box-shadow: 0 0.6rem 1.5rem rgba(255, 107, 139, 0.4);
        }
        
        .form-btn.secondary {
            background: #f5f5f5;
            color: #555;
        }
        
        .form-btn.secondary:hover {
            background: #e0e0e0;
        }
        
        .item-list {
            margin-top: 2rem;
        }
        
        .list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            border-bottom: 2px solid #eee;
            transition: var(--transition);
            border-radius: 0.8rem;
            margin-bottom: 1rem;
            background: #fafafa;
        }
        
        .list-item:hover {
            background: var(--light-pink);
            transform: translateY(-0.3rem);
            box-shadow: 0 0.6rem 1.2rem rgba(0, 0, 0, 0.05);
        }
        
        .list-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .item-info {
            flex-grow: 1;
        }
        
        .item-title {
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 0.4rem;
            font-size: 1.1rem;
        }
        
        .item-description {
            font-size: 0.85rem;
            color: #777;
            line-height: 1.4;
        }
        
        .item-actions {
            display: flex;
            gap: 1rem;
        }
        
        .action-icon-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            color: #777;
            transition: var(--transition);
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .action-icon-btn.edit:hover {
            background: rgba(76, 175, 80, 0.1);
            color: #4CAF50;
            transform: scale(1.05);
        }
        
        .action-icon-btn.delete:hover {
            background: rgba(255, 107, 139, 0.1);
            color: var(--primary-color);
            transform: scale(1.05);
        }
        
        /* Footer */
        footer {
            background: linear-gradient(to right, var(--light-pink), #ffeef2);
            color: #555;
            padding: 5rem 1.2rem 2.5rem;
            margin-top: 5rem;
            position: relative;
            overflow: hidden;
            border-top: 0.4rem solid var(--secondary-color);
        }
        
        .footer-decoration {
            position: absolute;
            font-size: 3.5rem;
            color: rgba(255, 107, 139, 0.08);
            z-index: 0;
        }
        
        .decoration-1 {
            top: 1.5rem;
            left: 5%;
            animation: floatSlow 8s infinite ease-in-out;
        }
        
        .decoration-2 {
            bottom: 3rem;
            right: 10%;
            animation: floatSlow 10s infinite ease-in-out reverse;
        }
        
        @keyframes floatSlow {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-1.5rem) rotate(10deg);
            }
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
            position: relative;
            z-index: 1;
        }
        
        .footer-section {
            display: flex;
            flex-direction: column;
        }
        
        .footer-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 1.7rem;
            position: relative;
            display: inline-block;
        }
        
        .footer-title::after {
            content: '';
            position: absolute;
            bottom: -0.8rem;
            left: 0;
            width: 4rem;
            height: 0.25rem;
            background: var(--secondary-color);
            border-radius: 0.15rem;
        }
        
        .footer-text {
            color: #666;
            line-height: 1.6;
            margin-bottom: 1.7rem;
            font-size: 0.95rem;
        }
        
        .footer-quote {
            font-style: italic;
            color: var(--primary-color);
            padding: 1.2rem;
            border-left: 0.3rem solid var(--secondary-color);
            background: rgba(255, 107, 139, 0.05);
            border-radius: 0 0.8rem 0.8rem 0;
            margin-top: 1.2rem;
            line-height: 1.5;
            font-size: 0.95rem;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 1rem;
        }
        
        .footer-links a {
            color: #666;
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-size: 0.95rem;
        }
        
        .footer-links a:hover {
            color: var(--primary-color);
            transform: translateX(0.6rem);
        }
        
        .footer-links i {
            color: var(--primary-color);
            width: 1.3rem;
            font-size: 1.1rem;
        }
        
        .footer-bottom {
            max-width: 1200px;
            margin: 0 auto;
            padding-top: 2.5rem;
            border-top: 2px solid rgba(255, 107, 139, 0.1);
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.2rem;
            position: relative;
            z-index: 1;
        }
        
        .footer-heart {
            color: var(--primary-color);
            font-size: 1.7rem;
            margin: 0 0.6rem;
            animation: heartbeat 1.5s infinite;
            display: inline-block;
        }
        
        .love-message {
            font-size: 1.2rem;
            color: var(--primary-color);
            font-weight: 600;
        }
        
        @keyframes heartbeat {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
        }
        
        /* Modal untuk Foto */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 1.2rem;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            max-width: 90%;
            max-height: 90%;
            border-radius: 0.8rem;
            overflow: hidden;
            position: relative;
            animation: modalAppear 0.4s ease;
        }
        
        .modal-img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .modal-close {
            position: absolute;
            top: 1.2rem;
            right: 1.2rem;
            color: var(--white);
            font-size: 2rem;
            cursor: pointer;
            background: rgba(0, 0, 0, 0.6);
            width: 3.5rem;
            height: 3.5rem;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: var(--transition);
        }
        
        .modal-close:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: scale(1.05);
        }
        
        /* Type indicator untuk form */
        .type-indicator {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        
        .type-btn {
            padding: 0.7rem 1.2rem;
            border: 2px solid #ddd;
            background: #f5f5f5;
            border-radius: 2rem;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.6rem;
        }
        
        .type-btn.active {
            background: var(--primary-color);
            color: var(--white);
            border-color: var(--primary-color);
        }
        
        /* Petunjuk URL */
        .url-hint {
            margin-top: 0.5rem;
            font-size: 0.85rem;
            color: #666;
            padding: 0.9rem;
            background: #f9f9f9;
            border-radius: 0.7rem;
            border-left: 3px solid var(--primary-color);
        }
        
        .url-hint ul {
            padding-left: 1.2rem;
            margin-top: 0.5rem;
        }
        
        .url-hint li {
            margin-bottom: 0.4rem;
            line-height: 1.4;
        }
        
        .url-hint strong {
            color: var(--primary-color);
        }
        
        /* Contoh URL */
        .url-examples {
            margin-top: 1rem;
            padding: 0.9rem;
            background: #f0f8ff;
            border-radius: 0.7rem;
            border: 1px dashed #4da6ff;
        }
        
        .url-examples h4 {
            color: #4da6ff;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .example-url {
            font-family: monospace;
            font-size: 0.8rem;
            background: white;
            padding: 0.4rem 0.6rem;
            border-radius: 0.4rem;
            margin: 0.3rem 0;
            border: 1px solid #ddd;
            word-break: break-all;
        }
        
        .example-note {
            font-size: 0.8rem;
            color: #777;
            margin-top: 0.5rem;
            font-style: italic;
        }
        
        /* Tombol langsung untuk edit/hapus di album */
        .item-direct-actions {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
            opacity: 0;
            transition: var(--transition);
            z-index: 10;
        }
        
        .photo-item:hover .item-direct-actions,
        .video-item:hover .item-direct-actions,
        .memory-card:hover .item-direct-actions {
            opacity: 1;
        }
        
        .direct-action-btn {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
            box-shadow: 0 0.2rem 0.5rem rgba(0, 0, 0, 0.2);
        }
        
        .direct-action-btn.edit {
            background: #4CAF50;
            color: white;
        }
        
        .direct-action-btn.delete {
            background: #ff4d73;
            color: white;
        }
        
        .direct-action-btn:hover {
            transform: scale(1.1);
        }
        
        /* UPLOAD MODAL DAN STYLE BARU */
        .upload-section {
            margin-top: 2rem;
            padding: 1.5rem;
            background: #f9f9f9;
            border-radius: 1rem;
            border: 2px dashed var(--secondary-color);
        }
        
        .upload-title {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .upload-options {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }
        
        .upload-option-btn {
            flex: 1;
            min-width: 150px;
            padding: 1.2rem;
            border: 2px solid #ddd;
            background: white;
            border-radius: 1rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.8rem;
            text-align: center;
        }
        
        .upload-option-btn:hover {
            border-color: var(--primary-color);
            background: var(--light-pink);
            transform: translateY(-0.2rem);
        }
        
        .upload-option-btn i {
            font-size: 2rem;
            color: var(--primary-color);
        }
        
        .upload-option-btn.active {
            border-color: var(--primary-color);
            background: var(--light-pink);
            box-shadow: 0 0.3rem 0.8rem rgba(255, 107, 139, 0.2);
        }
        
        .upload-preview {
            margin-top: 1.5rem;
            display: none;
        }
        
        .upload-preview.active {
            display: block;
        }
        
        .preview-container {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .preview-item {
            position: relative;
            width: 120px;
            height: 120px;
            border-radius: 0.8rem;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        
        .preview-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .preview-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .remove-preview {
            position: absolute;
            top: 0.3rem;
            right: 0.3rem;
            background: rgba(255, 107, 139, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 2rem;
            height: 2rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.9rem;
        }
        
        .upload-progress {
            margin-top: 1rem;
            display: none;
        }
        
        .upload-progress.active {
            display: block;
        }
        
        .progress-bar {
            width: 100%;
            height: 0.8rem;
            background: #eee;
            border-radius: 0.4rem;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--primary-color);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            font-size: 0.85rem;
            color: #666;
        }
        
        .upload-instructions {
            margin-top: 1.5rem;
            padding: 1rem;
            background: #f0f8ff;
            border-radius: 0.7rem;
            border-left: 3px solid #4da6ff;
            font-size: 0.85rem;
            color: #555;
        }
        
        .upload-instructions h4 {
            color: #4da6ff;
            margin-bottom: 0.5rem;
        }
        
        .upload-instructions ul {
            padding-left: 1.2rem;
            margin-top: 0.5rem;
        }
        
        .upload-instructions li {
            margin-bottom: 0.3rem;
        }
        
        /* File input tersembunyi */
        .hidden-file-input {
            display: none;
        }
        
        /* Responsif untuk Mobile */
        @media (max-width: 992px) {
            .gallery-container {
                grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
            }
            
            .video-container {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }
        
        @media (max-width: 768px) {
            /* Hide desktop nav, show hamburger menu */
            .nav-container {
                display: none;
            }
            
            .hamburger-menu {
                display: flex;
                justify-content: center;
                align-items: center;
            }
            
            /* Layout foto 2 kolom untuk mobile */
            .gallery-container {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.8rem;
            }
            
            .photo-item {
                height: 180px;
            }
            
            /* Layout video 1 kolom untuk mobile */
            .video-container {
                grid-template-columns: 1fr;
                gap: 1.7rem;
            }
            
            .video-player-container {
                height: 160px;
            }
            
            /* Memory cards full width di mobile */
            .memory-container {
                flex-direction: column;
            }
            
            .memory-card {
                min-width: 100%;
                padding: 1.7rem;
            }
            
            .memory-photo-container {
                height: 150px;
            }
            
            /* Album tabs */
            .album-tabs {
                flex-direction: column;
            }
            
            .album-tab {
                padding: 1rem;
            }
            
            .album-tab-content {
                padding: 1.7rem;
            }
            
            /* Video Modal */
            .video-modal-content {
                max-height: 70vh;
            }
            
            .video-modal-player {
                height: calc(70vh - 120px);
                min-height: 300px;
            }
            
            /* Section padding lebih kecil di mobile */
            .section {
                padding: 2.5rem 1rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .header-title {
                font-size: 2.2rem;
            }
            
            .header-subtitle {
                font-size: 1rem;
            }
            
            /* Title animation lebih kecil di mobile */
            .title-word {
                font-size: 2.5rem;
                margin-right: 0.8rem;
            }
            
            .subtitle-text {
                font-size: 1.1rem;
                margin-top: 1.7rem;
            }
            
            /* Editor modal penyesuaian mobile */
            .editor-content {
                padding: 1.7rem;
            }
            
            .editor-title {
                font-size: 1.8rem;
            }
            
            .form-actions {
                flex-direction: column;
            }
            
            .form-btn {
                width: 100%;
                justify-content: center;
            }
            
            /* Footer penyesuaian mobile */
            .footer-content {
                grid-template-columns: 1fr;
                gap: 2.5rem;
            }
            
            .footer-title {
                font-size: 1.8rem;
            }
            
            /* Manage buttons */
            .manage-buttons {
                width: 100%;
                justify-content: center;
            }
            
            .action-btn {
                flex: 1;
                justify-content: center;
            }
            
            /* Form notification */
            .form-notification {
                max-width: 90%;
                width: 90%;
            }
            
            /* Upload options */
            .upload-options {
                flex-direction: column;
            }
            
            .upload-option-btn {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .gallery-container {
                grid-template-columns: 1fr;
            }
            
            .photo-item {
                height: 200px;
            }
            
            .title-word {
                font-size: 2.2rem;
                display: block;
                margin-right: 0;
                margin-bottom: 0.4rem;
            }
            
            .title-text-container {
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            
            .subtitle-text {
                font-size: 1rem;
                margin-top: 1.2rem;
            }
            
            .login-container {
                padding: 1.7rem;
            }
            
            .login-title {
                font-size: 2rem;
            }
            
            .album-manage-header {
                flex-direction: column;
                align-items: flex-start;
            }
        }
        
        /* Animasi tambahan */
        .pulse {
            animation: pulse 0.5s ease;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }
        
        .shake {
            animation: shake 0.5s ease;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        /* Empty state */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: #777;
        }
        
        .empty-state-icon {
            font-size: 3.5rem;
            color: var(--secondary-color);
            margin-bottom: 1.5rem;
        }
        
        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #555;
        }
        
        .empty-state p {
            margin-bottom: 2rem;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* YouTube thumbnail overlay */
        .youtube-thumbnail {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
        }
    </style>
</head>
<body>
    <!-- Layar Login -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <h1 class="login-title">Dava & Andiena</h1>
            <p class="login-subtitle">Masukkan sandi untuk melihat kenangan indah kami</p>
            
            <div class="password-container">
                <input type="password" class="password-input" id="passwordInput" placeholder="Ketikkan sandi cinta kami...">
                <button class="heart-btn" id="loginBtn">
                    <i class="fas fa-heart"></i>
                </button>
            </div>
            
            <p class="error-message" id="errorMessage"></p>
            <p style="color: #999; font-size: 0.85rem; margin-top: 1.2rem;">Petunjuk: Tanggal spesial kita (ddmmyyyy)</p>
        </div>
    </div>
    
    <!-- Animasi Judul -->
    <div class="title-animation" id="titleAnimation">
        <div class="title-text-container">
            <span class="title-word" id="word1">Dava</span>
            <span class="title-word" id="word2">&</span>
            <span class="title-word" id="word3">Andiena's</span>
            <span class="title-word" id="word4">Story</span>
        </div>
        <p class="subtitle-text" id="subtitleText">Selamat datang di galeri kenangan indah kita. Setiap momen bersamamu adalah harta yang tak ternilai.</p>
        
        <!-- Hati animasi -->
        <div class="heart-animation" style="top: 15%; left: 8%; animation-delay: 0s;"></div>
        <div class="heart-animation" style="top: 25%; right: 12%; animation-delay: 0.7s;"></div>
        <div class="heart-animation" style="bottom: 20%; left: 15%; animation-delay: 1.4s;"></div>
        <div class="heart-animation" style="bottom: 30%; right: 20%; animation-delay: 2.1s;"></div>
    </div>
    
    <!-- Hamburger Menu untuk Mobile -->
    <button class="hamburger-menu" id="hamburgerBtn">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- Sidebar untuk Mobile -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3 class="sidebar-title">Menu</h3>
            <button class="sidebar-close" id="sidebarClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <ul class="sidebar-list">
            <li class="sidebar-item"><a href="#gallery" class="sidebar-link"><i class="fas fa-images"></i> Galeri Foto</a></li>
            <li class="sidebar-item"><a href="#videos" class="sidebar-link"><i class="fas fa-video"></i> Video Kenangan</a></li>
            <li class="sidebar-item"><a href="#memories" class="sidebar-link"><i class="fas fa-heart"></i> Memori Spesial</a></li>
            <li class="sidebar-item"><a href="#album" class="sidebar-link"><i class="fas fa-gift"></i> Album Cinta</a></li>
            <li class="sidebar-item"><a href="#" class="sidebar-link" id="sidebarManageBtn"><i class="fas fa-edit"></i> Kelola Konten</a></li>
        </ul>
    </div>
    
    <!-- Overlay untuk Sidebar -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    
    <!-- Konten Utama -->
    <div class="main-content" id="mainContent">
        <!-- Header -->
        <header>
            <div class="floating-hearts" id="floatingHearts"></div>
            <h1 class="header-title">Dava & Andiena</h1>
            <p class="header-subtitle">Setiap momen bersamamu adalah cerita terindah yang tak akan pernah terlupa</p>
        </header>
        
        <!-- Navigasi Desktop -->
        <nav class="nav-container">
            <ul class="nav-list">
                <li class="nav-item"><a href="#gallery" class="nav-link active"><i class="fas fa-images"></i> Galeri Foto</a></li>
                <li class="nav-item"><a href="#videos" class="nav-link"><i class="fas fa-video"></i> Video Kenangan</a></li>
                <li class="nav-item"><a href="#memories" class="nav-link"><i class="fas fa-heart"></i> Memori Spesial</a></li>
                <li class="nav-item"><a href="#album" class="nav-link"><i class="fas fa-gift"></i> Album Cinta</a></li>
                <li class="nav-item"><a href="#" class="nav-link" id="desktopManageBtn"><i class="fas fa-edit"></i> Kelola</a></li>
            </ul>
        </nav>
        
        <!-- Galeri Foto -->
        <section class="section" id="gallery">
            <h2 class="section-title">Galeri Foto Kenangan</h2>
            <div class="gallery-container" id="galleryContainer">
                <!-- Foto akan ditambahkan melalui JavaScript -->
            </div>
        </section>
        
        <!-- Video Kenangan -->
        <section class="section" id="videos" style="background: #f9f9f9;">
            <h2 class="section-title">Video Kenangan</h2>
            <div class="video-container" id="videoContainer">
                <!-- Video akan ditambahkan melalui JavaScript -->
            </div>
        </section>
        
        <!-- Memori Spesial -->
        <section class="section" id="memories">
            <h2 class="section-title">Memori Spesial</h2>
            <div class="memory-container" id="memoryContainer">
                <!-- Memori akan ditambahkan melalui JavaScript -->
            </div>
        </section>
        
        <!-- Album Cinta - TAB BARU -->
        <section class="section" id="album">
            <h2 class="section-title">Album Cinta Kita</h2>
            <div class="album-tabs-container">
                <div class="album-tabs">
                    <div class="album-tab active" data-tab="photos">
                        <i class="fas fa-images"></i>
                        <span>Album Foto</span>
                    </div>
                    <div class="album-tab" data-tab="videos">
                        <i class="fas fa-video"></i>
                        <span>Album Video</span>
                    </div>
                    <div class="album-tab" data-tab="memories">
                        <i class="fas fa-heart"></i>
                        <span>Album Memori</span>
                    </div>
                </div>
                
                <!-- Tab Foto -->
                <div class="album-tab-content active" id="photosTab">
                    <div class="album-manage-header">
                        <h3 class="album-title">Album Foto Kenangan</h3>
                        <div class="manage-buttons">
                            <button class="action-btn primary" id="addPhotoBtn">
                                <i class="fas fa-plus"></i> Tambah Foto
                            </button>
                            <button class="action-btn secondary" id="managePhotosBtn">
                                <i class="fas fa-edit"></i> Kelola Foto
                            </button>
                        </div>
                    </div>
                    <div class="gallery-container" id="albumPhotosContainer">
                        <!-- Foto album akan ditambahkan melalui JavaScript -->
                    </div>
                </div>
                
                <!-- Tab Video -->
                <div class="album-tab-content" id="videosTab">
                    <div class="album-manage-header">
                        <h3 class="album-title">Album Video Kenangan</h3>
                        <div class="manage-buttons">
                            <button class="action-btn primary" id="addVideoBtn">
                                <i class="fas fa-plus"></i> Tambah Video
                            </button>
                            <button class="action-btn secondary" id="manageVideosBtn">
                                <i class="fas fa-edit"></i> Kelola Video
                            </button>
                        </div>
                    </div>
                    <div class="video-container" id="albumVideosContainer">
                        <!-- Video album akan ditambahkan melalui JavaScript -->
                    </div>
                </div>
                
                <!-- Tab Memori -->
                <div class="album-tab-content" id="memoriesTab">
                    <div class="album-manage-header">
                        <h3 class="album-title">Album Memori Spesial</h3>
                        <div class="manage-buttons">
                            <button class="action-btn primary" id="addMemoryBtn">
                                <i class="fas fa-plus"></i> Tambah Memori
                            </button>
                            <button class="action-btn secondary" id="manageMemoriesBtn">
                                <i class="fas fa-edit"></i> Kelola Memori
                            </button>
                        </div>
                    </div>
                    <div class="memory-container" id="albumMemoriesContainer">
                        <!-- Memori album akan ditambahkan melalui JavaScript -->
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Footer -->
        <footer>
            <div class="footer-decoration decoration-1"></div>
            <div class="footer-decoration decoration-2"></div>
            
            <div class="footer-content">
                <div class="footer-section">
                    <h3 class="footer-title">Dava & Andiena</h3>
                    <p class="footer-text">Website ini dibuat sebagai tempat menyimpan kenangan indah kita bersama. Setiap foto, video, dan cerita adalah bagian dari perjalanan cinta kita yang tak ternilai.</p>
                    <div class="footer-quote">
                        "Cinta sejati bukan tentang menemukan orang yang sempurna, tapi tentang melihat orang yang tidak sempurna dengan cara yang sempurna."
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3 class="footer-title">Kenangan Indah</h3>
                    <ul class="footer-links">
                        <li><a href="#gallery"><i class="fas fa-images"></i> Galeri Foto</a></li>
                        <li><a href="#videos"><i class="fas fa-video"></i> Video Kenangan</a></li>
                        <li><a href="#memories"><i class="fas fa-heart"></i> Memori Spesial</a></li>
                        <li><a href="#album"><i class="fas fa-gift"></i> Album Cinta</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3 class="footer-title">Kisah Kita</h3>
                    <p class="footer-text">Setiap hari bersamamu adalah halaman baru dalam buku kehidupan kita. Mari terus tulis kisah indah ini bersama-sama, menciptakan kenangan yang takkan pernah terlupakan.</p>
                    <div class="footer-quote">
                        "Aku tidak butuh surga jika aku punya kamu di sisiku. Kamu adalah dunia kecilku yang paling sempurna."
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p class="love-message">Dibuat dengan <span class="footer-heart"></span> untuk Andiena tersayang</p>
                <p class="footer-text">Setiap detik bersamamu adalah halaman baru dalam buku hidupku</p>
            </div>
        </footer>
    </div>
    
    <!-- Notifikasi Form Upload - DIUBAH: Notifikasi khusus untuk form -->
    <div class="form-notification" id="formNotification">
        <div class="form-notification-icon">
            <i class="fas fa-exclamation-circle"></i>
        </div>
        <div class="form-notification-content">
            <p id="formNotificationText">Pilih file terlebih dahulu!</p>
        </div>
    </div>
    
    <!-- Modal Video Player -->
    <div class="video-modal" id="videoModal">
        <div class="video-modal-content">
            <div class="video-modal-header">
                <h3 class="video-modal-title" id="videoModalTitle">Video Kenangan</h3>
                <button class="video-modal-close" id="videoModalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="video-modal-player" id="videoModalPlayer">
                <!-- Video akan dimuat di sini -->
            </div>
            <div class="video-modal-description" id="videoModalDescription">
                <!-- Deskripsi video akan dimuat di sini -->
            </div>
        </div>
    </div>
    
    <!-- Editor Modal -->
    <div class="editor-modal" id="editorModal">
        <div class="editor-content">
            <div class="editor-header">
                <h3 class="editor-title" id="editorModalTitle">Kelola Album</h3>
                <button class="close-btn" id="closeEditorBtn">&times;</button>
            </div>
            
            <div class="editor-tabs">
                <div class="editor-tab active" data-tab="photos">
                    <i class="fas fa-images"></i> Foto
                </div>
                <div class="editor-tab" data-tab="videos">
                    <i class="fas fa-video"></i> Video
                </div>
                <div class="editor-tab" data-tab="memories">
                    <i class="fas fa-heart"></i> Memori
                </div>
            </div>
            
            <!-- Tab Foto -->
            <div class="editor-tab-content active" id="photosTab">
                <div class="item-list" id="photoList">
                    <!-- Daftar foto akan ditambahkan di sini -->
                </div>
            </div>
            
            <!-- Tab Video -->
            <div class="editor-tab-content" id="videosTab">
                <div class="item-list" id="videoList">
                    <!-- Daftar video akan ditambahkan di sini -->
                </div>
            </div>
            
            <!-- Tab Memori -->
            <div class="editor-tab-content" id="memoriesTab">
                <div class="item-list" id="memoryList">
                    <!-- Daftar memori akan ditambahkan di sini -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Form Modal (VERSI BARU DENGAN UPLOAD) -->
    <div class="editor-modal" id="formModal">
        <div class="editor-content">
            <div class="editor-header">
                <h3 class="editor-title" id="formTitle">Tambah Item Baru</h3>
                <button class="close-btn" id="closeFormBtn">&times;</button>
            </div>
            
            <!-- Indikator Tipe -->
            <div class="type-indicator">
                <button type="button" class="type-btn active" data-type="photo">
                    <i class="fas fa-image"></i> Foto
                </button>
                <button type="button" class="type-btn" data-type="video">
                    <i class="fas fa-video"></i> Video
                </button>
                <button type="button" class="type-btn" data-type="memory">
                    <i class="fas fa-heart"></i> Memori
                </button>
            </div>
            
            <!-- SECTION UPLOAD FILE DARI PERANGKAT -->
            <div class="upload-section" id="uploadSection">
                <h3 class="upload-title"><i class="fas fa-upload"></i> Unggah dari Perangkat Anda</h3>
                
                <div class="upload-options">
                    <button type="button" class="upload-option-btn active" id="uploadOption1">
                        <i class="fas fa-images"></i>
                        <span>Pilih dari Galeri</span>
                        <small>Foto & Video</small>
                    </button>
                    <button type="button" class="upload-option-btn" id="uploadOption2">
                        <i class="fas fa-camera"></i>
                        <span>Ambil Foto/Video</span>
                        <small>Kamera</small>
                    </button>
                    <button type="button" class="upload-option-btn" id="uploadOption3">
                        <i class="fas fa-link"></i>
                        <span>Gunakan URL</span>
                        <small>Link Online</small>
                    </button>
                </div>
                
                <!-- Input file tersembunyi -->
                <input type="file" class="hidden-file-input" id="fileInput" accept="image/*,video/*" multiple>
                <input type="file" class="hidden-file-input" id="cameraInput" accept="image/*,video/*" capture="environment">
                
                <!-- Preview upload -->
                <div class="upload-preview" id="uploadPreview">
                    <h4>Pratinjau:</h4>
                    <div class="preview-container" id="previewContainer">
                        <!-- Preview akan muncul di sini -->
                    </div>
                </div>
                
                <!-- Progress bar -->
                <div class="upload-progress" id="uploadProgress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-text" id="progressText">Mengunggah...</div>
                </div>
                
                <!-- Petunjuk upload -->
                <div class="upload-instructions">
                    <h4><i class="fas fa-info-circle"></i> Cara Upload:</h4>
                    <ul>
                        <li><strong>Di HP:</strong> Klik "Pilih dari Galeri"  akan terbuka galeri foto/video Anda</li>
                        <li><strong>Di Desktop:</strong> Klik "Pilih dari Galeri"  akan terbuka file explorer untuk memilih file</li>
                        <li><strong>Ambil Foto/Video:</strong> Membuka kamera langsung (hanya di HP yang support)</li>
                        <li>Anda bisa memilih beberapa file sekaligus</li>
                        <li>Maksimal ukuran file: 10MB per file</li>
                    </ul>
                </div>
            </div>
            
            <!-- Form Input (untuk URL) -->
            <form class="editor-form" id="itemForm">
                <input type="hidden" id="itemId" value="">
                <input type="hidden" id="itemType" value="">
                <input type="hidden" id="currentEditorTab" value="photos">
                <input type="hidden" id="uploadedFiles" value="">
                
                <div class="form-group">
                    <label class="form-label" for="itemTitle">
                        <i class="fas fa-heading"></i> Judul
                    </label>
                    <input type="text" class="form-input" id="itemTitle" placeholder="Masukkan judul (opsional)">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="itemDescription">
                        <i class="fas fa-align-left"></i> Deskripsi
                    </label>
                    <textarea class="form-textarea" id="itemDescription" placeholder="Tuliskan deskripsi atau cerita (opsional)"></textarea>
                </div>
                
                <!-- Input URL (hanya untuk mode URL) -->
                <div class="form-group" id="urlInputGroup" style="display: none;">
                    <label class="form-label" for="itemUrl">
                        <i class="fas fa-link"></i> URL Gambar/Video
                    </label>
                    <input type="text" class="form-input" id="itemUrl" placeholder="Masukkan URL gambar atau video">
                    
                    <!-- Petunjuk URL -->
                    <div class="url-hint">
                        <p><strong>Cara mendapatkan URL:</strong></p>
                        <ul>
                            <li><strong>Untuk Foto:</strong> Gunakan URL gambar dari Unsplash, Imgur, Google Photos (shareable link), dll.</li>
                            <li><strong>Untuk Video:</strong> Gunakan URL video dari YouTube, Vimeo, Google Drive (shareable link), atau hosting video lainnya.</li>
                        </ul>
                        
                        <!-- Contoh URL -->
                        <div class="url-examples">
                            <h4>Contoh URL yang bisa digunakan:</h4>
                            <div class="example-url">https://images.unsplash.com/photo-1518568814500-bf0f8d125f46</div>
                            <div class="example-url">https://www.youtube.com/embed/dQw4w9WgXcQ</div>
                            <div class="example-url">https://player.vimeo.com/video/76979871</div>
                            <div class="example-url">https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4</div>
                            <div class="example-url">https://www.youtube.com/watch?v=9bZkp7q19f0</div>
                            <p class="example-note">Untuk YouTube, Anda bisa menggunakan URL embed (berisi /embed/) atau URL watch biasa (berisi watch?v=).</p>
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="form-btn secondary" id="cancelBtn">
                        <i class="fas fa-times"></i> Batal
                    </button>
                    <button type="submit" class="form-btn primary" id="saveBtn">
                        <i class="fas fa-save"></i> Simpan
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Modal Foto -->
    <div class="modal" id="photoModal">
        <div class="modal-content">
            <span class="modal-close" id="modalClose">&times;</span>
            <img class="modal-img" id="modalImg" src="" alt="Foto Kenangan">
        </div>
    </div>

    <script>
        // Password: 10022009
        const APP_PASSWORD = "10022009";
        
        // Data default
        const defaultData = {
            photos: [
                {
                    id: 1,
                    src: "https://images.unsplash.com/photo-1518568814500-bf0f8d125f46?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=774&q=80",
                    title: "Pertemuan Pertama",
                    description: "Momen pertama kali kita bertemu, senyummu begitu manis."
                }
            ],
            videos: [
                {
                    id: 1,
                    src: "https://www.youtube.com/embed/dQw4w9WgXcQ",
                    title: "Video Kenangan Spesial",
                    description: "Video kenangan indah kita bersama"
                }
            ],
            memories: [
                {
                    id: 1,
                    title: "Pertama Kali Bertemu",
                    description: "Pertama kali kita bertemu, aku tak menyangka bahwa dirimu akan menjadi bagian terpenting dalam hidupku. Senyummu membuat hariku cerha.",
                    photo: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=776&q=80"
                }
            ]
        };

        // Fungsi untuk mengambil data dari localStorage
        function getMemoriesData() {
            const storedData = localStorage.getItem('davaAndienaMemories');
            if (storedData) {
                return JSON.parse(storedData);
            } else {
                localStorage.setItem('davaAndienaMemories', JSON.stringify(defaultData));
                return defaultData;
            }
        }

        // Fungsi untuk menyimpan data ke localStorage
        function saveMemoriesData(data) {
            localStorage.setItem('davaAndienaMemories', JSON.stringify(data));
        }

        // Data aplikasi
        let memoriesData = getMemoriesData();
        let currentAlbumType = 'photos';
        let isEditing = false;
        let currentEditId = null;
        let currentEditType = null;
        let currentEditorTab = 'photos';
        let currentContentType = 'photo';
        let currentUploadMode = 'gallery'; // gallery, camera, url
        let uploadedFiles = [];
        let uploadedDataURLs = [];

        // Elemen DOM
        const loginScreen = document.getElementById('loginScreen');
        const titleAnimation = document.getElementById('titleAnimation');
        const mainContent = document.getElementById('mainContent');
        const passwordInput = document.getElementById('passwordInput');
        const loginBtn = document.getElementById('loginBtn');
        const errorMessage = document.getElementById('errorMessage');
        const galleryContainer = document.getElementById('galleryContainer');
        const videoContainer = document.getElementById('videoContainer');
        const memoryContainer = document.getElementById('memoryContainer');
        const floatingHearts = document.getElementById('floatingHearts');
        const photoModal = document.getElementById('photoModal');
        const modalImg = document.getElementById('modalImg');
        const modalClose = document.getElementById('modalClose');
        const navLinks = document.querySelectorAll('.nav-link');
        const sidebarLinks = document.querySelectorAll('.sidebar-link');
        
        // Notifikasi Form - DIUBAH
        const formNotification = document.getElementById('formNotification');
        const formNotificationText = document.getElementById('formNotificationText');
        
        // Sidebar elements
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const sidebar = document.getElementById('sidebar');
        const sidebarClose = document.getElementById('sidebarClose');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        const sidebarManageBtn = document.getElementById('sidebarManageBtn');
        const desktopManageBtn = document.getElementById('desktopManageBtn');
        
        // Video Modal elements
        const videoModal = document.getElementById('videoModal');
        const videoModalTitle = document.getElementById('videoModalTitle');
        const videoModalPlayer = document.getElementById('videoModalPlayer');
        const videoModalDescription = document.getElementById('videoModalDescription');
        const videoModalClose = document.getElementById('videoModalClose');
        
        // Album elements
        const albumTabs = document.querySelectorAll('.album-tab');
        const albumTabContents = document.querySelectorAll('.album-tab-content');
        const albumPhotosContainer = document.getElementById('albumPhotosContainer');
        const albumVideosContainer = document.getElementById('albumVideosContainer');
        const albumMemoriesContainer = document.getElementById('albumMemoriesContainer');
        
        // Tombol aksi album
        const addPhotoBtn = document.getElementById('addPhotoBtn');
        const managePhotosBtn = document.getElementById('managePhotosBtn');
        const addVideoBtn = document.getElementById('addVideoBtn');
        const manageVideosBtn = document.getElementById('manageVideosBtn');
        const addMemoryBtn = document.getElementById('addMemoryBtn');
        const manageMemoriesBtn = document.getElementById('manageMemoriesBtn');
        
        // Editor elements
        const editorModal = document.getElementById('editorModal');
        const formModal = document.getElementById('formModal');
        const editorTabs = document.querySelectorAll('.editor-tab');
        const tabContents = document.querySelectorAll('.editor-tab-content');
        const closeEditorBtn = document.getElementById('closeEditorBtn');
        const closeFormBtn = document.getElementById('closeFormBtn');
        const photoList = document.getElementById('photoList');
        const videoList = document.getElementById('videoList');
        const memoryList = document.getElementById('memoryList');
        const itemForm = document.getElementById('itemForm');
        const formTitle = document.getElementById('formTitle');
        const itemId = document.getElementById('itemId');
        const itemType = document.getElementById('itemType');
        const currentEditorTabInput = document.getElementById('currentEditorTab');
        const itemTitle = document.getElementById('itemTitle');
        const itemDescription = document.getElementById('itemDescription');
        const itemUrl = document.getElementById('itemUrl');
        const cancelBtn = document.getElementById('cancelBtn');
        const saveBtn = document.getElementById('saveBtn');
        const typeBtns = document.querySelectorAll('.type-btn');
        
        // Upload elements
        const uploadOption1 = document.getElementById('uploadOption1');
        const uploadOption2 = document.getElementById('uploadOption2');
        const uploadOption3 = document.getElementById('uploadOption3');
        const fileInput = document.getElementById('fileInput');
        const cameraInput = document.getElementById('cameraInput');
        const uploadPreview = document.getElementById('uploadPreview');
        const previewContainer = document.getElementById('previewContainer');
        const uploadProgress = document.getElementById('uploadProgress');
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        const urlInputGroup = document.getElementById('urlInputGroup');
        const uploadedFilesInput = document.getElementById('uploadedFiles');
        const uploadSection = document.getElementById('uploadSection');
        
        // Title animation elements
        const word1 = document.getElementById('word1');
        const word2 = document.getElementById('word2');
        const word3 = document.getElementById('word3');
        const word4 = document.getElementById('word4');
        const subtitleText = document.getElementById('subtitleText');

        // Fungsi untuk menampilkan notifikasi di dalam form - DIUBAH
        function showFormNotification(message, type = 'error') {
            formNotificationText.textContent = message;
            formNotification.className = `form-notification ${type}`;
            formNotification.classList.add('show');
            
            const icon = formNotification.querySelector('.form-notification-icon i');
            if (type === 'success') {
                icon.className = 'fas fa-check-circle';
            } else {
                icon.className = 'fas fa-exclamation-circle';
            }
            
            // Auto hide setelah 3 detik
            setTimeout(() => {
                formNotification.classList.remove('show');
            }, 3000);
        }

        // Animasi judul yang konsisten
        function playTitleAnimation() {
            // Reset semua elemen
            [word1, word2, word3, word4, subtitleText].forEach(el => {
                el.style.animation = 'none';
                el.style.opacity = '0';
                el.style.transform = 'translateX(-150px)';
            });
            
            // Force reflow
            void word1.offsetWidth;
            
            // Animasi masuk
            word1.style.animation = 'slideInFromLeft 0.8s ease 0.3s forwards';
            word2.style.animation = 'slideInFromLeft 0.8s ease 0.6s forwards';
            word3.style.animation = 'slideInFromLeft 0.8s ease 0.9s forwards';
            word4.style.animation = 'slideInFromLeft 0.8s ease 1.2s forwards';
            subtitleText.style.animation = 'fadeInUp 0.8s ease 1.8s forwards';
            
            // Animasi keluar setelah delay
            setTimeout(() => {
                word1.style.animation = 'slideOutToRight 0.8s ease forwards';
                word2.style.animation = 'slideOutToRight 0.8s ease 0.1s forwards';
                word3.style.animation = 'slideOutToRight 0.8s ease 0.2s forwards';
                word4.style.animation = 'slideOutToRight 0.8s ease 0.3s forwards';
                subtitleText.style.animation = 'slideOutToRight 0.8s ease 0.4s forwards';
            }, 3000);
            
            // Tutup animasi dan buka konten utama
            setTimeout(() => {
                titleAnimation.style.animation = 'fadeOut 1s ease forwards';
                setTimeout(() => {
                    titleAnimation.style.display = 'none';
                    mainContent.style.display = 'block';
                    mainContent.style.animation = 'fadeInContent 0.8s ease forwards';
                    loadAllContent();
                }, 1000);
            }, 3800);
        }

        // Fungsi untuk membuat hati berjatuhan
        function createFloatingHearts() {
            floatingHearts.innerHTML = '';
            for (let i = 0; i < 12; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.innerHTML = '<i class="fas fa-heart"></i>';
                
                const leftPos = Math.random() * 100;
                const delay = Math.random() * 8;
                const duration = 6 + Math.random() * 4;
                
                heart.style.left = `${leftPos}%`;
                heart.style.animationDelay = `${delay}s`;
                heart.style.animationDuration = `${duration}s`;
                
                floatingHearts.appendChild(heart);
            }
        }

        // Fungsi untuk memuat foto ke galeri utama
        function loadPhotos() {
            galleryContainer.innerHTML = '';
            
            if (memoriesData.photos.length === 0) {
                galleryContainer.innerHTML = `
                    <div class="empty-state" style="grid-column: 1/-1;">
                        <div class="empty-state-icon">
                            <i class="fas fa-images"></i>
                        </div>
                        <h3>Belum ada foto</h3>
                        <p>Tambahkan foto pertama Anda di Album Cinta!</p>
                    </div>
                `;
                return;
            }
            
            memoriesData.photos.forEach((photo, index) => {
                if (index < 6) {
                    const photoItem = createPhotoElement(photo, 'gallery');
                    galleryContainer.appendChild(photoItem);
                }
            });
        }
        
        // Fungsi untuk memuat foto ke album
        function loadAlbumPhotos() {
            albumPhotosContainer.innerHTML = '';
            
            if (memoriesData.photos.length === 0) {
                albumPhotosContainer.innerHTML = `
                    <div class="empty-state" style="grid-column: 1/-1;">
                        <div class="empty-state-icon">
                            <i class="fas fa-images"></i>
                        </div>
                        <h3>Album Foto Kosong</h3>
                        <p>Tambahkan foto pertama Anda untuk mengisi album ini.</p>
                        <button class="action-btn primary" style="margin-top: 1.5rem;" id="addFirstPhotoBtn">
                            <i class="fas fa-plus"></i> Tambah Foto Pertama
                        </button>
                    </div>
                `;
                
                document.getElementById('addFirstPhotoBtn')?.addEventListener('click', () => {
                    openAddForm('photos');
                });
                
                return;
            }
            
            memoriesData.photos.forEach((photo) => {
                const photoItem = createPhotoElement(photo, 'album');
                albumPhotosContainer.appendChild(photoItem);
            });
        }
        
        // Fungsi untuk membuat elemen foto
        function createPhotoElement(photo, context = 'gallery') {
            const photoItem = document.createElement('div');
            photoItem.className = 'photo-item';
            photoItem.innerHTML = `
                <img src="${photo.src}" alt="${photo.title || 'Foto Kenangan'}" class="photo-img" loading="lazy">
                <div class="photo-caption">
                    <h3>${photo.title || 'Foto Kenangan'}</h3>
                    ${photo.description ? `<p class="photo-description">${photo.description}</p>` : ''}
                </div>
                ${context === 'album' ? `
                    <div class="item-direct-actions">
                        <button class="direct-action-btn edit" data-id="${photo.id}" data-type="photos" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="direct-action-btn delete" data-id="${photo.id}" data-type="photos" title="Hapus">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                ` : ''}
            `;
            
            photoItem.addEventListener('click', (e) => {
                if (!e.target.closest('.direct-action-btn')) {
                    modalImg.src = photo.src;
                    modalImg.alt = photo.title || 'Foto Kenangan';
                    photoModal.style.display = 'flex';
                }
            });
            
            // Tambahkan event listener untuk tombol aksi langsung
            if (context === 'album') {
                const editBtn = photoItem.querySelector('.direct-action-btn.edit');
                const deleteBtn = photoItem.querySelector('.direct-action-btn.delete');
                
                editBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    handleEditItemFromAlbum(photo.id, 'photos');
                });
                
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    handleDeleteItemFromAlbum(photo.id, 'photos', photoItem);
                });
            }
            
            return photoItem;
        }

        // Fungsi untuk memuat video ke galeri utama
        function loadVideos() {
            videoContainer.innerHTML = '';
            
            if (memoriesData.videos.length === 0) {
                videoContainer.innerHTML = `
                    <div class="empty-state" style="grid-column: 1/-1;">
                        <div class="empty-state-icon">
                            <i class="fas fa-video"></i>
                        </div>
                        <h3>Belum ada video</h3>
                        <p>Tambahkan video pertama Anda di Album Cinta!</p>
                    </div>
                `;
                return;
            }
            
            memoriesData.videos.forEach((video, index) => {
                if (index < 4) {
                    const videoItem = createVideoElement(video, 'gallery');
                    videoContainer.appendChild(videoItem);
                }
            });
        }
        
        // Fungsi untuk memuat video ke album
        function loadAlbumVideos() {
            albumVideosContainer.innerHTML = '';
            
            if (memoriesData.videos.length === 0) {
                albumVideosContainer.innerHTML = `
                    <div class="empty-state" style="grid-column: 1/-1;">
                        <div class="empty-state-icon">
                            <i class="fas fa-video"></i>
                        </div>
                        <h3>Album Video Kosong</h3>
                        <p>Tambahkan video pertama Anda untuk mengisi album ini.</p>
                        <button class="action-btn primary" style="margin-top: 1.5rem;" id="addFirstVideoBtn">
                            <i class="fas fa-plus"></i> Tambah Video Pertama
                        </button>
                    </div>
                `;
                
                document.getElementById('addFirstVideoBtn')?.addEventListener('click', () => {
                    openAddForm('videos');
                });
                
                return;
            }
            
            memoriesData.videos.forEach((video) => {
                const videoItem = createVideoElement(video, 'album');
                albumVideosContainer.appendChild(videoItem);
            });
        }
        
        // Fungsi untuk membuat elemen video
        function createVideoElement(video, context = 'gallery') {
            const videoItem = document.createElement('div');
            videoItem.className = 'video-item';
            
            // Cek tipe video dan dapatkan thumbnail
            const videoInfo = getVideoInfo(video.src);
            
            videoItem.innerHTML = `
                <div class="video-player-container">
                    ${videoInfo.thumbnail ? `<img src="${videoInfo.thumbnail}" alt="${video.title || 'Video Kenangan'}" class="video-thumbnail">` : ''}
                    <div class="video-play-overlay">
                        <div class="video-play-btn">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                </div>
                <div class="video-caption">
                    <h3>${video.title || 'Video Kenangan'}</h3>
                    ${video.description ? `<p class="video-description">${video.description}</p>` : ''}
                </div>
                ${context === 'album' ? `
                    <div class="item-direct-actions">
                        <button class="direct-action-btn edit" data-id="${video.id}" data-type="videos" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="direct-action-btn delete" data-id="${video.id}" data-type="videos" title="Hapus">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                ` : ''}
            `;
            
            // Tambahkan event listener untuk tombol play
            const playBtn = videoItem.querySelector('.video-play-btn');
            playBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                openVideoModal(video);
            });
            
            // Juga buka modal saat mengklik seluruh video item (kecuali tombol aksi)
            videoItem.addEventListener('click', (e) => {
                if (!e.target.closest('.direct-action-btn') && !e.target.closest('.video-play-btn')) {
                    openVideoModal(video);
                }
            });
            
            // Tambahkan event listener untuk tombol aksi langsung
            if (context === 'album') {
                const editBtn = videoItem.querySelector('.direct-action-btn.edit');
                const deleteBtn = videoItem.querySelector('.direct-action-btn.delete');
                
                editBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    handleEditItemFromAlbum(video.id, 'videos');
                });
                
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    handleDeleteItemFromAlbum(video.id, 'videos', videoItem);
                });
            }
            
            return videoItem;
        }

        // Fungsi untuk mendapatkan informasi video dan thumbnail
        function getVideoInfo(url) {
            const info = {
                type: 'unknown',
                thumbnail: null,
                embedUrl: url
            };
            
            // YouTube
            if (url.includes('youtube.com') || url.includes('youtu.be')) {
                info.type = 'youtube';
                let videoId = '';
                
                if (url.includes('youtu.be')) {
                    videoId = url.split('youtu.be/')[1]?.split('?')[0];
                } else if (url.includes('watch?v=')) {
                    videoId = url.split('v=')[1]?.split('&')[0];
                } else if (url.includes('embed/')) {
                    videoId = url.split('embed/')[1]?.split('?')[0];
                }
                
                if (videoId) {
                    info.thumbnail = `https://img.youtube.com/vi/${videoId}/hqdefault.jpg`;
                    info.embedUrl = `https://www.youtube.com/embed/${videoId}`;
                }
            }
            // Vimeo
            else if (url.includes('vimeo.com')) {
                info.type = 'vimeo';
                const videoId = url.split('vimeo.com/')[1]?.split('?')[0];
                if (videoId) {
                    info.thumbnail = 'https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
                }
            }
            // Video MP4 langsung
            else if (url.match(/\.(mp4|webm|ogg|mov)(\?.*)?$/i)) {
                info.type = 'direct';
                info.thumbnail = 'https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
            }
            
            return info;
        }

        // Fungsi untuk membuka modal video
        function openVideoModal(video) {
            const videoInfo = getVideoInfo(video.src);
            
            videoModalTitle.textContent = video.title || 'Video Kenangan';
            videoModalDescription.textContent = video.description || 'Tidak ada deskripsi';
            
            // Kosongkan player
            videoModalPlayer.innerHTML = '';
            
            // Buat player berdasarkan tipe video
            if (videoInfo.type === 'youtube' || videoInfo.type === 'vimeo') {
                const iframe = document.createElement('iframe');
                iframe.src = videoInfo.embedUrl;
                iframe.setAttribute('frameborder', '0');
                iframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture');
                iframe.setAttribute('allowfullscreen', '');
                videoModalPlayer.appendChild(iframe);
            } else if (videoInfo.type === 'direct') {
                const videoElement = document.createElement('video');
                videoElement.controls = true;
                videoElement.autoplay = true;
                videoElement.style.width = '100%';
                videoElement.style.height = '100%';
                
                const source = document.createElement('source');
                source.src = video.src;
                source.type = 'video/mp4';
                
                videoElement.appendChild(source);
                videoElement.innerHTML += 'Browser Anda tidak mendukung tag video.';
                videoModalPlayer.appendChild(videoElement);
            } else {
                // Fallback: tampilkan pesan
                videoModalPlayer.innerHTML = `
                    <div style="display: flex; justify-content: center; align-items: center; height: 100%; color: white; flex-direction: column; gap: 1rem;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 3rem;"></i>
                        <p>Tidak dapat memutar video. Format URL tidak didukung.</p>
                        <a href="${video.src}" target="_blank" style="color: var(--primary-color); text-decoration: underline;">Buka video di tab baru</a>
                    </div>
                `;
            }
            
            // Tampilkan modal
            videoModal.style.display = 'flex';
            
            // Autoplay video jika mungkin
            setTimeout(() => {
                const iframe = videoModalPlayer.querySelector('iframe');
                const videoEl = videoModalPlayer.querySelector('video');
                
                if (iframe) {
                    // Untuk YouTube, tambahkan autoplay parameter
                    if (iframe.src.includes('youtube.com') && !iframe.src.includes('autoplay=1')) {
                        iframe.src += (iframe.src.includes('?') ? '&' : '?') + 'autoplay=1';
                    }
                } else if (videoEl) {
                    videoEl.play().catch(e => console.log('Autoplay prevented:', e));
                }
            }, 500);
        }

        // Fungsi untuk memuat memori ke galeri utama
        function loadMemories() {
            memoryContainer.innerHTML = '';
            
            if (memoriesData.memories.length === 0) {
                memoryContainer.innerHTML = `
                    <div class="empty-state" style="width: 100%;">
                        <div class="empty-state-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <h3>Belum ada memori</h3>
                        <p>Tambahkan memori pertama Anda di Album Cinta!</p>
                    </div>
                `;
                return;
            }
            
            memoriesData.memories.forEach((memory, index) => {
                if (index < 3) {
                    const memoryCard = createMemoryElement(memory, 'gallery');
                    memoryContainer.appendChild(memoryCard);
                }
            });
        }
        
        // Fungsi untuk memuat memori ke album
        function loadAlbumMemories() {
            albumMemoriesContainer.innerHTML = '';
            
            if (memoriesData.memories.length === 0) {
                albumMemoriesContainer.innerHTML = `
                    <div class="empty-state" style="width: 100%;">
                        <div class="empty-state-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <h3>Album Memori Kosong</h3>
                        <p>Tambahkan memori pertama Anda untuk mengisi album ini.</p>
                        <button class="action-btn primary" style="margin-top: 1.5rem;" id="addFirstMemoryBtn">
                            <i class="fas fa-plus"></i> Tambah Memori Pertama
                        </button>
                    </div>
                `;
                
                document.getElementById('addFirstMemoryBtn')?.addEventListener('click', () => {
                    openAddForm('memories');
                });
                
                return;
            }
            
            memoriesData.memories.forEach((memory) => {
                const memoryCard = createMemoryElement(memory, 'album');
                albumMemoriesContainer.appendChild(memoryCard);
            });
        }
        
        // Fungsi untuk membuat elemen memori
        function createMemoryElement(memory, context = 'gallery') {
            const memoryCard = document.createElement('div');
            memoryCard.className = 'memory-card';
            memoryCard.innerHTML = `
                <div class="memory-photo-container">
                    <img src="${memory.photo}" alt="${memory.title || 'Memori'}" class="memory-photo" loading="lazy">
                </div>
                <div class="memory-icon">
                    <i class="fas fa-heart"></i>
                </div>
                <h3>${memory.title || 'Memori Spesial'}</h3>
                <p class="memory-text">${memory.description || 'Kenangan indah bersama.'}</p>
                ${context === 'album' ? `
                    <div class="item-direct-actions">
                        <button class="direct-action-btn edit" data-id="${memory.id}" data-type="memories" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="direct-action-btn delete" data-id="${memory.id}" data-type="memories" title="Hapus">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                ` : ''}
            `;
            
            // Tambahkan event listener untuk tombol aksi langsung
            if (context === 'album') {
                const editBtn = memoryCard.querySelector('.direct-action-btn.edit');
                const deleteBtn = memoryCard.querySelector('.direct-action-btn.delete');
                
                editBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    handleEditItemFromAlbum(memory.id, 'memories');
                });
                
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    handleDeleteItemFromAlbum(memory.id, 'memories', memoryCard);
                });
            }
            
            return memoryCard;
        }

        // Fungsi untuk login
        function login() {
            const password = passwordInput.value.trim();
            
            if (password === APP_PASSWORD) {
                errorMessage.textContent = '';
                loginScreen.style.opacity = '0';
                
                setTimeout(() => {
                    loginScreen.style.display = 'none';
                    titleAnimation.style.display = 'flex';
                    playTitleAnimation();
                }, 800);
            } else {
                errorMessage.textContent = 'Sandi salah. Coba lagi!';
                passwordInput.style.borderColor = '#ff4d73';
                passwordInput.classList.add('shake');
                
                setTimeout(() => {
                    passwordInput.style.borderColor = 'var(--secondary-color)';
                    passwordInput.classList.remove('shake');
                }, 2000);
            }
        }

        // Fungsi untuk memuat semua konten
        function loadAllContent() {
            loadPhotos();
            loadVideos();
            loadMemories();
            loadAlbumPhotos();
            loadAlbumVideos();
            loadAlbumMemories();
            createFloatingHearts();
        }

        // Fungsi untuk navigasi
        function setupNavigation() {
            // Desktop navigation
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    if (this.getAttribute('href').startsWith('#')) {
                        e.preventDefault();
                        
                        navLinks.forEach(item => item.classList.remove('active'));
                        this.classList.add('active');
                        
                        const targetId = this.getAttribute('href');
                        const targetSection = document.querySelector(targetId);
                        
                        window.scrollTo({
                            top: targetSection.offsetTop - 70,
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            // Sidebar navigation
            sidebarLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    if (this.getAttribute('href').startsWith('#')) {
                        e.preventDefault();
                        
                        sidebarLinks.forEach(item => item.classList.remove('active'));
                        this.classList.add('active');
                        
                        const targetId = this.getAttribute('href');
                        const targetSection = document.querySelector(targetId);
                        
                        // Tutup sidebar
                        sidebar.classList.remove('open');
                        sidebarOverlay.classList.remove('active');
                        
                        window.scrollTo({
                            top: targetSection.offsetTop - 70,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        // Fungsi untuk sidebar
        function setupSidebar() {
            hamburgerBtn.addEventListener('click', () => {
                sidebar.classList.add('open');
                sidebarOverlay.classList.add('active');
            });
            
            sidebarClose.addEventListener('click', () => {
                sidebar.classList.remove('open');
                sidebarOverlay.classList.remove('active');
            });
            
            sidebarOverlay.addEventListener('click', () => {
                sidebar.classList.remove('open');
                sidebarOverlay.classList.remove('active');
            });
            
            // Tombol kelola di sidebar
            sidebarManageBtn.addEventListener('click', (e) => {
                e.preventDefault();
                openEditorWithTab('photos');
                sidebar.classList.remove('open');
                sidebarOverlay.classList.remove('active');
            });
        }

        // Setup video modal
        function setupVideoModal() {
            videoModalClose.addEventListener('click', () => {
                videoModal.style.display = 'none';
                // Hentikan video saat modal ditutup
                const iframe = videoModalPlayer.querySelector('iframe');
                const videoEl = videoModalPlayer.querySelector('video');
                
                if (iframe) {
                    // Untuk YouTube, ganti src untuk menghentikan video
                    const src = iframe.src;
                    iframe.src = '';
                    setTimeout(() => { iframe.src = src; }, 100);
                } else if (videoEl) {
                    videoEl.pause();
                    videoEl.currentTime = 0;
                }
            });
            
            videoModal.addEventListener('click', (e) => {
                if (e.target === videoModal) {
                    videoModalClose.click();
                }
            });
        }

        // Fungsi untuk album tabs
        function setupAlbumTabs() {
            albumTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    albumTabs.forEach(t => t.classList.remove('active'));
                    albumTabContents.forEach(c => c.classList.remove('active'));
                    
                    tab.classList.add('active');
                    document.getElementById(`${tabId}Tab`).classList.add('active');
                    
                    // Update current album type
                    currentAlbumType = tabId;
                });
            });
            
            // Setup tombol aksi album
            addPhotoBtn.addEventListener('click', () => {
                openAddForm('photos');
            });
            
            managePhotosBtn.addEventListener('click', () => {
                openEditorWithTab('photos');
            });
            
            addVideoBtn.addEventListener('click', () => {
                openAddForm('videos');
            });
            
            manageVideosBtn.addEventListener('click', () => {
                openEditorWithTab('videos');
            });
            
            addMemoryBtn.addEventListener('click', () => {
                openAddForm('memories');
            });
            
            manageMemoriesBtn.addEventListener('click', () => {
                openEditorWithTab('memories');
            });
            
            // Tombol kelola di desktop nav
            desktopManageBtn.addEventListener('click', (e) => {
                e.preventDefault();
                openEditorWithTab('photos');
            });
        }

        // Fungsi untuk editor
        function setupEditor() {
            // Setup editor tabs
            editorTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    currentEditorTab = tabId;
                    currentEditorTabInput.value = tabId;
                    
                    editorTabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    tab.classList.add('active');
                    document.getElementById(`${tabId}Tab`).classList.add('active');
                    
                    loadEditorLists();
                });
            });
            
            // Type buttons (photo/video/memory)
            typeBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const type = this.getAttribute('data-type');
                    currentContentType = type;
                    
                    typeBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }

        // FUNGSI UPLOAD FILE DARI PERANGKAT - DIPERBAIKI
        function setupUploadSystem() {
            // Setup upload option buttons
            uploadOption1.addEventListener('click', function() {
                setUploadMode('gallery');
                // Langsung buka file picker saat klik
                fileInput.click();
            });
            
            uploadOption2.addEventListener('click', function() {
                setUploadMode('camera');
                // Coba buka kamera
                if ('mediaDevices' in navigator && 'getUserMedia' in navigator.mediaDevices) {
                    cameraInput.click();
                } else {
                    // Fallback ke galeri jika kamera tidak support
                    showFormNotification('Kamera tidak tersedia. Membuka galeri...', 'info');
                    setUploadMode('gallery');
                    fileInput.click();
                }
            });
            
            uploadOption3.addEventListener('click', function() {
                setUploadMode('url');
            });
            
            // Setup file input
            fileInput.addEventListener('change', handleFileSelect);
            cameraInput.addEventListener('change', handleFileSelect);
            
            // Setup initial mode
            setUploadMode('gallery');
        }
        
        // Fungsi untuk mengatur mode upload
        function setUploadMode(mode) {
            currentUploadMode = mode;
            
            // Update button styles
            [uploadOption1, uploadOption2, uploadOption3].forEach(btn => {
                btn.classList.remove('active');
            });
            
            if (mode === 'gallery') {
                uploadOption1.classList.add('active');
                urlInputGroup.style.display = 'none';
                uploadPreview.style.display = 'block';
            } else if (mode === 'camera') {
                uploadOption2.classList.add('active');
                urlInputGroup.style.display = 'none';
                uploadPreview.style.display = 'block';
            } else if (mode === 'url') {
                uploadOption3.classList.add('active');
                urlInputGroup.style.display = 'block';
                uploadPreview.style.display = 'none';
            }
            
            // Clear preview
            clearPreview();
        }
        
        // Fungsi untuk menangani pemilihan file - DIPERBAIKI
        function handleFileSelect(e) {
            const files = e.target.files;
            if (files.length === 0) return;
            
            uploadedFiles = Array.from(files);
            uploadedDataURLs = []; // Reset Data URLs
            
            // Tampilkan preview terlebih dahulu
            showPreview(uploadedFiles);
            
            // Konversi semua file ke Data URL
            convertFilesToDataURLs(files).then(() => {
                console.log("Semua file berhasil dikonversi:", uploadedDataURLs.length);
            }).catch(error => {
                console.error("Error mengonversi file:", error);
            });
            
            // Reset input file agar bisa memilih file yang sama lagi
            e.target.value = '';
        }
        
        // Fungsi untuk mengonversi file ke Data URL - DIPERBAIKI
        function convertFilesToDataURLs(files) {
            uploadedDataURLs = [];
            const conversionPromises = [];
            
            Array.from(files).forEach((file, index) => {
                const promise = new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        uploadedDataURLs[index] = e.target.result;
                        console.log(`File ${index + 1} (${file.type}) berhasil dikonversi ke Data URL`);
                        resolve(e.target.result);
                    };
                    reader.onerror = function(e) {
                        console.error(`Error membaca file ${index + 1}:`, e);
                        uploadedDataURLs[index] = null;
                        reject(e);
                    };
                    reader.readAsDataURL(file);
                });
                conversionPromises.push(promise);
            });
            
            // Return promise untuk menunggu semua file selesai dikonversi
            return Promise.all(conversionPromises);
        }
        
        // Fungsi untuk menampilkan preview file
        function showPreview(files) {
            clearPreview();
            
            files.forEach((file, index) => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const previewItem = document.createElement('div');
                    previewItem.className = 'preview-item';
                    
                    if (file.type.startsWith('image/')) {
                        previewItem.innerHTML = `
                            <img src="${e.target.result}" alt="Preview" class="preview-img">
                            <button class="remove-preview" data-index="${index}">&times;</button>
                        `;
                    } else if (file.type.startsWith('video/')) {
                        previewItem.innerHTML = `
                            <video class="preview-video" controls>
                                <source src="${e.target.result}" type="${file.type}">
                            </video>
                            <button class="remove-preview" data-index="${index}">&times;</button>
                        `;
                    } else {
                        previewItem.innerHTML = `
                            <div style="display: flex; justify-content: center; align-items: center; height: 100%; background: #eee;">
                                <i class="fas fa-file" style="font-size: 2rem; color: #777;"></i>
                            </div>
                            <button class="remove-preview" data-index="${index}">&times;</button>
                        `;
                    }
                    
                    previewContainer.appendChild(previewItem);
                    
                    // Add remove button event
                    const removeBtn = previewItem.querySelector('.remove-preview');
                    removeBtn.addEventListener('click', () => {
                        removeFile(index);
                    });
                };
                reader.readAsDataURL(file);
            });
            
            uploadPreview.classList.add('active');
        }
        
        // Fungsi untuk menghapus file dari preview
        function removeFile(index) {
            uploadedFiles.splice(index, 1);
            uploadedDataURLs.splice(index, 1);
            
            // Update preview
            if (uploadedFiles.length === 0) {
                clearPreview();
            } else {
                showPreview(uploadedFiles);
            }
        }
        
        // Fungsi untuk membersihkan preview
        function clearPreview() {
            previewContainer.innerHTML = '';
            uploadedFiles = [];
            uploadedDataURLs = [];
            uploadPreview.classList.remove('active');
        }

        // Fungsi untuk memuat daftar item di editor
        function loadEditorLists() {
            if (currentEditorTab === 'photos') {
                photoList.innerHTML = '';
                
                const addButton = document.createElement('div');
                addButton.className = 'list-item';
                addButton.style.cursor = 'pointer';
                addButton.style.justifyContent = 'center';
                addButton.style.background = 'linear-gradient(to right, var(--primary-color), #ff9eb5)';
                addButton.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 1rem; color: white;">
                        <i class="fas fa-plus-circle" style="font-size: 1.3rem;"></i>
                        <div style="font-size: 1.1rem; font-weight: 600;">Tambah Foto Baru</div>
                    </div>
                `;
                addButton.addEventListener('click', () => {
                    currentContentType = 'photo';
                    typeBtns.forEach(btn => {
                        if (btn.getAttribute('data-type') === 'photo') {
                            btn.classList.add('active');
                        } else {
                            btn.classList.remove('active');
                        }
                    });
                    openAddForm('photos');
                });
                photoList.appendChild(addButton);
                
                if (memoriesData.photos.length === 0) {
                    const emptyMessage = document.createElement('div');
                    emptyMessage.className = 'list-item';
                    emptyMessage.style.justifyContent = 'center';
                    emptyMessage.style.background = '#f9f9f9';
                    emptyMessage.innerHTML = '<div style="color: #777; text-align: center;">Belum ada foto. Klik "Tambah Foto Baru" di atas!</div>';
                    photoList.appendChild(emptyMessage);
                } else {
                    memoriesData.photos.forEach(photo => {
                        const item = document.createElement('div');
                        item.className = 'list-item';
                        item.innerHTML = `
                            <div class="item-info">
                                <div class="item-title">${photo.title || 'Foto Tanpa Judul'}</div>
                                ${photo.description ? `<div class="item-description">${photo.description}</div>` : ''}
                            </div>
                            <div class="item-actions">
                                <button class="action-icon-btn edit" data-id="${photo.id}" data-type="photos" title="Edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="action-icon-btn delete" data-id="${photo.id}" data-type="photos" title="Hapus">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        `;
                        photoList.appendChild(item);
                    });
                }
                
                // Tambahkan event listeners
                setTimeout(() => {
                    document.querySelectorAll('#photoList .action-icon-btn.edit').forEach(btn => {
                        btn.addEventListener('click', handleEditItem);
                    });
                    
                    document.querySelectorAll('#photoList .action-icon-btn.delete').forEach(btn => {
                        btn.addEventListener('click', handleDeleteItem);
                    });
                }, 100);
            }
            
            if (currentEditorTab === 'videos') {
                videoList.innerHTML = '';
                
                const addButton = document.createElement('div');
                addButton.className = 'list-item';
                addButton.style.cursor = 'pointer';
                addButton.style.justifyContent = 'center';
                addButton.style.background = 'linear-gradient(to right, var(--primary-color), #ff9eb5)';
                addButton.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 1rem; color: white;">
                        <i class="fas fa-plus-circle" style="font-size: 1.3rem;"></i>
                        <div style="font-size: 1.1rem; font-weight: 600;">Tambah Video Baru</div>
                    </div>
                `;
                addButton.addEventListener('click', () => {
                    currentContentType = 'video';
                    typeBtns.forEach(btn => {
                        if (btn.getAttribute('data-type') === 'video') {
                            btn.classList.add('active');
                        } else {
                            btn.classList.remove('active');
                        }
                    });
                    openAddForm('videos');
                });
                videoList.appendChild(addButton);
                
                if (memoriesData.videos.length === 0) {
                    const emptyMessage = document.createElement('div');
                    emptyMessage.className = 'list-item';
                    emptyMessage.style.justifyContent = 'center';
                    emptyMessage.style.background = '#f9f9f9';
                    emptyMessage.innerHTML = '<div style="color: #777; text-align: center;">Belum ada video. Klik "Tambah Video Baru" di atas!</div>';
                    videoList.appendChild(emptyMessage);
                } else {
                    memoriesData.videos.forEach(video => {
                        const item = document.createElement('div');
                        item.className = 'list-item';
                        item.innerHTML = `
                            <div class="item-info">
                                <div class="item-title">${video.title || 'Video Tanpa Judul'}</div>
                                ${video.description ? `<div class="item-description">${video.description}</div>` : ''}
                            </div>
                            <div class="item-actions">
                                <button class="action-icon-btn edit" data-id="${video.id}" data-type="videos" title="Edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="action-icon-btn delete" data-id="${video.id}" data-type="videos" title="Hapus">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        `;
                        videoList.appendChild(item);
                    });
                }
                
                // Tambahkan event listeners
                setTimeout(() => {
                    document.querySelectorAll('#videoList .action-icon-btn.edit').forEach(btn => {
                        btn.addEventListener('click', handleEditItem);
                    });
                    
                    document.querySelectorAll('#videoList .action-icon-btn.delete').forEach(btn => {
                        btn.addEventListener('click', handleDeleteItem);
                    });
                }, 100);
            }
            
            if (currentEditorTab === 'memories') {
                memoryList.innerHTML = '';
                
                const addButton = document.createElement('div');
                addButton.className = 'list-item';
                addButton.style.cursor = 'pointer';
                addButton.style.justifyContent = 'center';
                addButton.style.background = 'linear-gradient(to right, var(--primary-color), #ff9eb5)';
                addButton.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 1rem; color: white;">
                        <i class="fas fa-plus-circle" style="font-size: 1.3rem;"></i>
                        <div style="font-size: 1.1rem; font-weight: 600;">Tambah Memori Baru</div>
                    </div>
                `;
                addButton.addEventListener('click', () => openAddForm('memories'));
                memoryList.appendChild(addButton);
                
                if (memoriesData.memories.length === 0) {
                    const emptyMessage = document.createElement('div');
                    emptyMessage.className = 'list-item';
                    emptyMessage.style.justifyContent = 'center';
                    emptyMessage.style.background = '#f9f9f9';
                    emptyMessage.innerHTML = '<div style="color: #777; text-align: center;">Belum ada memori. Klik "Tambah Memori Baru" di atas!</div>';
                    memoryList.appendChild(emptyMessage);
                } else {
                    memoriesData.memories.forEach(memory => {
                        const item = document.createElement('div');
                        item.className = 'list-item';
                        item.innerHTML = `
                            <div class="item-info">
                                <div class="item-title">${memory.title || 'Memori Tanpa Judul'}</div>
                                ${memory.description ? `<div class="item-description">${memory.description.substring(0, 100)}${memory.description.length > 100 ? '...' : ''}</div>` : ''}
                            </div>
                            <div class="item-actions">
                                <button class="action-icon-btn edit" data-id="${memory.id}" data-type="memories" title="Edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="action-icon-btn delete" data-id="${memory.id}" data-type="memories" title="Hapus">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        `;
                        memoryList.appendChild(item);
                    });
                }
                
                // Tambahkan event listeners
                setTimeout(() => {
                    document.querySelectorAll('#memoryList .action-icon-btn.edit').forEach(btn => {
                        btn.addEventListener('click', handleEditItem);
                    });
                    
                    document.querySelectorAll('#memoryList .action-icon-btn.delete').forEach(btn => {
                        btn.addEventListener('click', handleDeleteItem);
                    });
                }, 100);
            }
        }

        // Fungsi untuk menangani edit item dari editor
        function handleEditItem(e) {
            const id = parseInt(e.currentTarget.getAttribute('data-id'));
            const type = e.currentTarget.getAttribute('data-type');
            
            const item = memoriesData[type].find(item => item.id === id);
            
            if (item) {
                isEditing = true;
                currentEditId = id;
                currentEditType = type;
                
                formTitle.textContent = `Edit ${type === 'photos' ? 'Foto' : type === 'videos' ? 'Video' : 'Memori'}`;
                itemId.value = id;
                itemType.value = type;
                itemTitle.value = item.title || '';
                itemDescription.value = item.description || '';
                
                // Set mode URL untuk edit
                setUploadMode('url');
                itemUrl.value = item.src || item.photo || '';
                
                // Set tipe konten
                if (type === 'videos') {
                    currentContentType = 'video';
                    typeBtns.forEach(btn => {
                        if (btn.getAttribute('data-type') === 'video') {
                            btn.classList.add('active');
                        } else {
                            btn.classList.remove('active');
                        }
                    });
                } else if (type === 'photos') {
                    currentContentType = 'photo';
                    typeBtns.forEach(btn => {
                        if (btn.getAttribute('data-type') === 'photo') {
                            btn.classList.add('active');
                        } else {
                            btn.classList.remove('active');
                        }
                    });
                } else if (type === 'memories') {
                    currentContentType = 'memory';
                    typeBtns.forEach(btn => {
                        if (btn.getAttribute('data-type') === 'memory') {
                            btn.classList.add('active');
                        } else {
                            btn.classList.remove('active');
                        }
                    });
                }
                
                formModal.style.display = 'flex';
                editorModal.style.display = 'none';
            }
        }

        // Fungsi untuk menangani edit item dari album
        function handleEditItemFromAlbum(id, type) {
            const item = memoriesData[type].find(item => item.id === id);
            
            if (item) {
                isEditing = true;
                currentEditId = id;
                currentEditType = type;
                
                formTitle.textContent = `Edit ${type === 'photos' ? 'Foto' : type === 'videos' ? 'Video' : 'Memori'}`;
                itemId.value = id;
                itemType.value = type;
                itemTitle.value = item.title || '';
                itemDescription.value = item.description || '';
                
                // Set mode URL untuk edit
                setUploadMode('url');
                itemUrl.value = item.src || item.photo || '';
                
                // Set tipe konten
                if (type === 'videos') {
                    currentContentType = 'video';
                    typeBtns.forEach(btn => {
                        if (btn.getAttribute('data-type') === 'video') {
                            btn.classList.add('active');
                        } else {
                            btn.classList.remove('active');
                        }
                    });
                } else if (type === 'photos') {
                    currentContentType = 'photo';
                    typeBtns.forEach(btn => {
                        if (btn.getAttribute('data-type') === 'photo') {
                            btn.classList.add('active');
                        } else {
                            btn.classList.remove('active');
                        }
                    });
                } else if (type === 'memories') {
                    currentContentType = 'memory';
                    typeBtns.forEach(btn => {
                        if (btn.getAttribute('data-type') === 'memory') {
                            btn.classList.add('active');
                        } else {
                            btn.classList.remove('active');
                        }
                    });
                }
                
                formModal.style.display = 'flex';
            }
        }

        // Fungsi untuk menangani hapus item dari editor
        function handleDeleteItem(e) {
            const id = parseInt(e.currentTarget.getAttribute('data-id'));
            const type = e.currentTarget.getAttribute('data-type');
            
            if (confirm(`Apakah Anda yakin ingin menghapus item ini?`)) {
                memoriesData[type] = memoriesData[type].filter(item => item.id !== id);
                saveMemoriesData(memoriesData);
                
                loadEditorLists();
                reloadAllContent();
            }
        }

        // Fungsi untuk menangani hapus item dari album
        function handleDeleteItemFromAlbum(id, type, element) {
            if (confirm(`Apakah Anda yakin ingin menghapus item ini?`)) {
                memoriesData[type] = memoriesData[type].filter(item => item.id !== id);
                saveMemoriesData(memoriesData);
                
                // Hapus elemen dari DOM
                element.style.animation = 'slideOutToRight 0.5s ease forwards';
                setTimeout(() => {
                    element.remove();
                    
                    // Reload konten jika sudah kosong
                    if (memoriesData[type].length === 0) {
                        if (type === 'photos') loadAlbumPhotos();
                        else if (type === 'videos') loadAlbumVideos();
                        else if (type === 'memories') loadAlbumMemories();
                    }
                }, 500);
                
                // Reload konten utama
                reloadAllContent();
            }
        }

        // Fungsi untuk membuka form tambah
        function openAddForm(type) {
            isEditing = false;
            currentEditId = null;
            currentEditType = null;
            
            itemForm.reset();
            itemId.value = '';
            itemType.value = type;
            setUploadMode('gallery');
            clearPreview();
            
            let titleText = '';
            if (type === 'photos') {
                titleText = 'Tambah Foto Baru';
                currentContentType = 'photo';
                typeBtns.forEach(btn => {
                    if (btn.getAttribute('data-type') === 'photo') {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
            } else if (type === 'videos') {
                titleText = 'Tambah Video Baru';
                currentContentType = 'video';
                typeBtns.forEach(btn => {
                    if (btn.getAttribute('data-type') === 'video') {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
            } else if (type === 'memories') {
                titleText = 'Tambah Memori Baru';
                currentContentType = 'memory';
                typeBtns.forEach(btn => {
                    if (btn.getAttribute('data-type') === 'memory') {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
            }
            
            formTitle.textContent = titleText;
            formModal.style.display = 'flex';
            
            // Set default mode
            setUploadMode('gallery');
        }

        // Fungsi untuk membuka editor dengan tab tertentu
        function openEditorWithTab(tabType) {
            editorModal.style.display = 'flex';
            
            editorTabs.forEach(tab => tab.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            
            const targetTab = document.querySelector(`.editor-tab[data-tab="${tabType}"]`);
            const targetContent = document.getElementById(`${tabType}Tab`);
            
            if (targetTab && targetContent) {
                targetTab.classList.add('active');
                targetContent.classList.add('active');
                currentEditorTab = tabType;
                loadEditorLists();
            }
        }

        // Fungsi untuk menangani submit form - DIPERBAIKI
        async function handleFormSubmit(e) {
            e.preventDefault();
            
            const type = itemType.value;
            const title = itemTitle.value.trim();
            const url = itemUrl.value.trim();
            const description = itemDescription.value.trim();
            
            console.log("=== SUBMIT FORM ===");
            console.log("Mode upload:", currentUploadMode);
            console.log("Tipe konten:", currentContentType);
            console.log("File count:", uploadedFiles.length);
            console.log("DataURL count:", uploadedDataURLs.length);
            
            // Validasi berdasarkan mode upload
            if (currentUploadMode === 'url') {
                // Mode URL: validasi URL
                if (!url) {
                    showFormNotification('URL wajib diisi!', 'error');
                    return;
                }
            } else {
                // Mode upload file: validasi file
                const validDataURLs = uploadedDataURLs.filter(url => url && url.startsWith('data:'));
                console.log("Valid DataURLs:", validDataURLs.length);
                
                if (validDataURLs.length === 0 && uploadedFiles.length === 0) {
                    showFormNotification('Pilih file terlebih dahulu!', 'error');
                    return;
                }
                
                if (validDataURLs.length === 0 && uploadedFiles.length > 0) {
                    showFormNotification('File masih diproses. Tunggu sebentar...', 'info');
                    
                    // Tunggu dan coba lagi
                    setTimeout(() => {
                        const readyDataURLs = uploadedDataURLs.filter(url => url && url.startsWith('data:'));
                        if (readyDataURLs.length > 0) {
                            console.log("File sudah siap, submit otomatis...");
                            handleFormSubmit(e);
                        } else {
                            showFormNotification('Gagal membaca file. Coba pilih file lain.', 'error');
                        }
                    }, 1000);
                    return;
                }
            }
            
            // Tampilkan progress
            uploadProgress.classList.add('active');
            progressFill.style.width = '30%';
            progressText.textContent = 'Menyimpan...';
            
            try {
                if (isEditing) {
                    // Edit item
                    const index = memoriesData[type].findIndex(item => item.id === currentEditId);
                    
                    if (index !== -1) {
                        if (type === 'memories') {
                            memoriesData[type][index] = {
                                id: currentEditId,
                                title: title || undefined,
                                description: description || undefined,
                                photo: currentUploadMode === 'url' ? url : uploadedDataURLs[0] || memoriesData[type][index].photo
                            };
                        } else {
                            memoriesData[type][index] = {
                                id: currentEditId,
                                title: title || undefined,
                                description: description || undefined,
                                src: currentUploadMode === 'url' ? url : uploadedDataURLs[0] || memoriesData[type][index].src
                            };
                        }
                        
                        saveMemoriesData(memoriesData);
                        progressFill.style.width = '100%';
                        progressText.textContent = 'Berhasil disimpan!';
                        
                        setTimeout(() => {
                            uploadProgress.classList.remove('active');
                            reloadAllContent();
                            formModal.style.display = 'none';
                            clearPreview();
                        }, 500);
                    }
                } else {
                    // Tambah item baru
                    let newId = 1;
                    if (memoriesData[type].length > 0) {
                        newId = Math.max(...memoriesData[type].map(item => item.id)) + 1;
                    }
                    
                    if (type === 'memories') {
                        // Untuk memori, gunakan file pertama
                        const validDataURLs = uploadedDataURLs.filter(url => url && url.startsWith('data:'));
                        memoriesData[type].push({
                            id: newId,
                            title: title || undefined,
                            description: description || undefined,
                            photo: currentUploadMode === 'url' ? url : (validDataURLs[0] || '')
                        });
                    } else {
                        // Untuk foto/video
                        if (currentUploadMode === 'url') {
                            // Mode URL: tambahkan satu item
                            memoriesData[type].push({
                                id: newId,
                                title: title || undefined,
                                description: description || undefined,
                                src: url
                            });
                        } else {
                            // Mode upload file: tambahkan semua file yang valid
                            let addedCount = 0;
                            
                            // Filter hanya DataURL yang valid
                            const validDataURLs = uploadedDataURLs.filter(url => url && url.startsWith('data:'));
                            
                            for (let i = 0; i < validDataURLs.length; i++) {
                                const file = uploadedFiles[i];
                                const isImage = file && file.type && file.type.startsWith('image/');
                                const isVideo = file && file.type && file.type.startsWith('video/');
                                
                                // Hanya tambahkan jika sesuai tipe
                                if ((type === 'photos' && isImage) || (type === 'videos' && isVideo)) {
                                    memoriesData[type].push({
                                        id: newId + addedCount,
                                        title: title || (isImage ? 'Foto Kenangan' : 'Video Kenangan'),
                                        description: description || undefined,
                                        src: validDataURLs[i]
                                    });
                                    addedCount++;
                                }
                            }
                            
                            if (addedCount === 0) {
                                showFormNotification('Tidak ada file yang valid untuk tipe ini', 'error');
                                uploadProgress.classList.remove('active');
                                return;
                            }
                            
                            console.log(`Berhasil menambahkan ${addedCount} file`);
                        }
                    }
                    
                    saveMemoriesData(memoriesData);
                    progressFill.style.width = '100%';
                    progressText.textContent = 'Berhasil disimpan!';
                    
                    setTimeout(() => {
                        uploadProgress.classList.remove('active');
                        reloadAllContent();
                        formModal.style.display = 'none';
                        clearPreview();
                    }, 500);
                }
                
            } catch (error) {
                console.error("Error saat menyimpan:", error);
                showFormNotification('Terjadi kesalahan saat menyimpan', 'error');
                uploadProgress.classList.remove('active');
            }
        }

        // Fungsi untuk reload semua konten
        function reloadAllContent() {
            loadPhotos();
            loadVideos();
            loadMemories();
            loadAlbumPhotos();
            loadAlbumVideos();
            loadAlbumMemories();
            loadEditorLists();
        }

        // Event Listeners
        loginBtn.addEventListener('click', login);
        passwordInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') login();
        });

        modalClose.addEventListener('click', () => {
            photoModal.style.display = 'none';
        });

        photoModal.addEventListener('click', (e) => {
            if (e.target === photoModal) photoModal.style.display = 'none';
        });

        // Editor event listeners
        closeEditorBtn.addEventListener('click', () => {
            editorModal.style.display = 'none';
        });
        
        closeFormBtn.addEventListener('click', () => {
            formModal.style.display = 'none';
            clearPreview();
        });

        editorModal.addEventListener('click', (e) => {
            if (e.target === editorModal) editorModal.style.display = 'none';
        });

        formModal.addEventListener('click', (e) => {
            if (e.target === formModal) {
                formModal.style.display = 'none';
                clearPreview();
            }
        });

        cancelBtn.addEventListener('click', () => {
            formModal.style.display = 'none';
            clearPreview();
        });

        itemForm.addEventListener('submit', handleFormSubmit);

        // Inisialisasi
        window.addEventListener('DOMContentLoaded', () => {
            setupNavigation();
            setupSidebar();
            setupVideoModal();
            setupAlbumTabs();
            setupEditor();
            setupUploadSystem();
            
            console.log("Website Dava & Andiena siap digunakan!");
            console.log("Password: 10022009");
            console.log("FITUR UPLOAD FILE:");
            console.log("1. Klik 'Pilih dari Galeri' untuk langsung membuka file picker");
            console.log("2. File akan tersimpan permanen di localStorage");
            console.log("3. Notifikasi hanya muncul di dalam form upload");
        });

        // Ekspor fungsi untuk debugging
        window.memoriesApp = {
            getData: () => memoriesData,
            resetData: () => {
                if (confirm('Reset data ke default?')) {
                    localStorage.removeItem('davaAndienaMemories');
                    memoriesData = getMemoriesData();
                    reloadAllContent();
                }
            },
            debug: () => {
                console.log("=== DEBUG ===");
                console.log("Uploaded files:", uploadedFiles);
                console.log("Uploaded DataURLs:", uploadedDataURLs);
                console.log("Memories data:", memoriesData);
                console.log("Current upload mode:", currentUploadMode);
            }
        };
    </script>
</body>
</html>